{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/OneSingleView/lib/supabase.ts"],"sourcesContent":["// Supabase Configuration\n// Replace Firebase with Supabase\n\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || '';\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '';\n\nif (!supabaseUrl || !supabaseAnonKey) {\n    console.warn('Supabase credentials not found. Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in .env.local');\n}\n\n// Prevent crash if credentials are missing\nconst createMockClient = () => {\n    const mockBuilder = {\n        select: () => mockBuilder,\n        insert: () => mockBuilder,\n        update: () => mockBuilder,\n        delete: () => mockBuilder,\n        eq: () => mockBuilder,\n        in: () => mockBuilder,\n        order: () => mockBuilder,\n        limit: () => mockBuilder,\n        single: () => Promise.resolve({ data: null, error: null }),\n        maybeSingle: () => Promise.resolve({ data: null, error: null }),\n        then: (resolve: any) => resolve({ data: [], error: null, count: 0 }),\n    };\n\n    return {\n        from: () => mockBuilder,\n        auth: {\n            signUp: () => Promise.resolve({ data: {}, error: null }),\n            signInWithPassword: () => Promise.resolve({ data: {}, error: null }),\n            signOut: () => Promise.resolve({ error: null }),\n            getUser: () => Promise.resolve({ data: { user: null }, error: null }),\n            onAuthStateChange: () => ({ data: { subscription: { unsubscribe: () => { } } } }),\n            resetPasswordForEmail: () => Promise.resolve({ data: {}, error: null }),\n        }\n    } as any;\n};\n\nexport const supabase = (supabaseUrl && supabaseAnonKey)\n    ? createClient(supabaseUrl, supabaseAnonKey)\n    : createMockClient();\n\nexport default supabase;\n"],"names":[],"mappings":"AAAA,yBAAyB;AACzB,iCAAiC;;;;;;;AAIb;AAFpB;;AAEA,MAAM,cAAc,gFAAwC;AAC5D,MAAM,kBAAkB,wPAA6C;AAErE;;AAIA,2CAA2C;AAC3C,MAAM,mBAAmB;IACrB,MAAM,cAAc;QAChB,QAAQ,IAAM;QACd,QAAQ,IAAM;QACd,QAAQ,IAAM;QACd,QAAQ,IAAM;QACd,IAAI,IAAM;QACV,IAAI,IAAM;QACV,OAAO,IAAM;QACb,OAAO,IAAM;QACb,QAAQ,IAAM,QAAQ,OAAO,CAAC;gBAAE,MAAM;gBAAM,OAAO;YAAK;QACxD,aAAa,IAAM,QAAQ,OAAO,CAAC;gBAAE,MAAM;gBAAM,OAAO;YAAK;QAC7D,MAAM,CAAC,UAAiB,QAAQ;gBAAE,MAAM,EAAE;gBAAE,OAAO;gBAAM,OAAO;YAAE;IACtE;IAEA,OAAO;QACH,MAAM,IAAM;QACZ,MAAM;YACF,QAAQ,IAAM,QAAQ,OAAO,CAAC;oBAAE,MAAM,CAAC;oBAAG,OAAO;gBAAK;YACtD,oBAAoB,IAAM,QAAQ,OAAO,CAAC;oBAAE,MAAM,CAAC;oBAAG,OAAO;gBAAK;YAClE,SAAS,IAAM,QAAQ,OAAO,CAAC;oBAAE,OAAO;gBAAK;YAC7C,SAAS,IAAM,QAAQ,OAAO,CAAC;oBAAE,MAAM;wBAAE,MAAM;oBAAK;oBAAG,OAAO;gBAAK;YACnE,mBAAmB,IAAM,CAAC;oBAAE,MAAM;wBAAE,cAAc;4BAAE,aAAa,KAAQ;wBAAE;oBAAE;gBAAE,CAAC;YAChF,uBAAuB,IAAM,QAAQ,OAAO,CAAC;oBAAE,MAAM,CAAC;oBAAG,OAAO;gBAAK;QACzE;IACJ;AACJ;AAEO,MAAM,WAAW,uCAClB,IAAA,2NAAY,EAAC,aAAa,mBAC1B;uCAES"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/OneSingleView/lib/auth.ts"],"sourcesContent":["import { supabase } from './supabase';\nimport { User, UserRole } from '@/types';\n\n/**\n * Sign up a new user with email and password\n */\nexport async function signUp(\n    email: string,\n    password: string,\n    name: string,\n    mobile: string,\n    role: UserRole,\n    company_name?: string\n): Promise<User> {\n    try {\n        // Create auth user with Supabase\n        const { data: authData, error: authError } = await supabase.auth.signUp({\n            email,\n            password,\n        });\n\n        if (authError) throw authError;\n        if (!authData.user) throw new Error('No user returned from signup');\n\n        // Generate unique customer ID (1SV- + 6 random alphanumeric characters)\n        const customerId = '1SV-' + Math.random().toString(36).substring(2, 8).toUpperCase();\n\n        // Create user profile object\n        const newUser: Omit<User, 'created_at' | 'updated_at'> = {\n            id: authData.user.id,\n            email,\n            mobile,\n            name,\n            company_name: (role === 'corporate_employee' || role === 'corporate_admin') ? company_name : undefined,\n            role,\n            customer_id: customerId,\n        };\n\n        // Retry logic for creating user profile to handle race conditions\n        let retries = 3;\n        while (retries > 0) {\n            try {\n                // Wait for auth user to be propagated\n                await new Promise(resolve => setTimeout(resolve, 1000));\n\n                const { error: dbError } = await supabase\n                    .from('users')\n                    .insert({\n                        id: authData.user.id,\n                        email: newUser.email,\n                        mobile: newUser.mobile,\n                        name: newUser.name,\n                        company_name: newUser.company_name,\n                        role: newUser.role,\n                        customer_id: newUser.customer_id,\n                    });\n\n                if (dbError) {\n                    // If foreign key violation, throw to catch block to retry\n                    if (dbError.code === '23503') throw dbError;\n\n                    // If unique violation (409), check if profile already exists\n                    if (dbError.code === '23505') { // Postgres unique violation code\n                        console.log('User profile already exists, checking for orphan...');\n\n                        // Check if a profile exists with this email but different ID (orphaned)\n                        const { data: existingProfile, error: fetchError } = await supabase\n                            .from('users')\n                            .select('*')\n                            .eq('email', email)\n                            .maybeSingle();\n\n                        if (!fetchError && existingProfile) {\n                            // If ID matches, it's a duplicate signup attempt, just return it\n                            if (existingProfile.id === authData.user.id) {\n                                return {\n                                    ...existingProfile,\n                                    created_at: new Date(existingProfile.created_at),\n                                    updated_at: new Date(existingProfile.updated_at),\n                                };\n                            }\n\n                            // If ID doesn't match, it's an orphaned profile. Update it with new Auth ID.\n                            console.log('Found orphaned profile. Linking to new Auth ID...');\n                            const { error: updateError } = await supabase\n                                .from('users')\n                                .update({\n                                    id: authData.user.id,\n                                    updated_at: new Date().toISOString()\n                                })\n                                .eq('email', email);\n\n                            if (updateError) {\n                                console.error('Failed to link orphaned profile:', updateError);\n                                throw updateError;\n                            }\n\n                            // Return the updated profile\n                            return {\n                                ...existingProfile,\n                                id: authData.user.id, // Use new ID\n                                created_at: new Date(existingProfile.created_at),\n                                updated_at: new Date(),\n                            };\n                        }\n                    }\n\n                    // Other errors, throw immediately\n                    throw dbError;\n                }\n\n                // Success\n                break;\n            } catch (error: any) {\n                retries--;\n                if (retries === 0) {\n                    console.error('Failed to create user profile after retries:', error);\n                    throw new Error('Failed to create user profile. Please try again.');\n                }\n                console.log(`Retrying user profile creation... (${retries} attempts left)`);\n            }\n        }\n\n        return {\n            ...newUser,\n            created_at: new Date(),\n            updated_at: new Date(),\n        };\n    } catch (error: any) {\n        console.error('Signup error:', error);\n        throw new Error(error.message || 'Failed to sign up');\n    }\n}\n\n/**\n * Send password reset email\n */\nexport async function resetPassword(email: string): Promise<void> {\n    try {\n        const { error } = await supabase.auth.resetPasswordForEmail(email, {\n            redirectTo: typeof window !== 'undefined' ? `${window.location.origin}/update-password` : 'http://localhost:3000/update-password',\n        });\n        if (error) throw error;\n    } catch (error: any) {\n        console.error('Reset password error:', error);\n        throw new Error(error.message || 'Failed to send reset password email');\n    }\n}\n\n/**\n * Sign in existing user with email and password\n */\nexport async function signIn(email: string, password: string): Promise<User> {\n    try {\n        const { data: authData, error: authError } = await supabase.auth.signInWithPassword({\n            email,\n            password,\n        });\n\n        if (authError) throw authError;\n        if (!authData.user) throw new Error('No user returned from sign in');\n\n        // Fetch user data from database\n        const { data: userData, error: dbError } = await supabase\n            .from('users')\n            .select('*')\n            .eq('id', authData.user.id)\n            .maybeSingle();\n\n        if (dbError) throw dbError;\n        if (!userData) throw new Error('User profile not found. Please contact support.');\n\n        return {\n            id: userData.id,\n            email: userData.email,\n            mobile: userData.mobile,\n            name: userData.name,\n            company_name: userData.company_name,\n            role: userData.role,\n            created_at: new Date(userData.created_at),\n            updated_at: new Date(userData.updated_at),\n            rm_id: userData.rm_id,\n            customer_id: userData.customer_id,\n        };\n    } catch (error: any) {\n        console.error('Sign in error:', error);\n        throw new Error(error.message || 'Failed to sign in');\n    }\n}\n\n/**\n * Sign out current user\n */\nexport async function signOut(): Promise<void> {\n    try {\n        const { error } = await supabase.auth.signOut();\n        if (error) throw error;\n    } catch (error: any) {\n        console.error('Sign out error:', error);\n        throw new Error(error.message || 'Failed to sign out');\n    }\n}\n\n/**\n * Get current authenticated user's data from database\n */\nexport async function getCurrentUser(): Promise<User | null> {\n    try {\n        const { data: { user: authUser } } = await supabase.auth.getUser();\n\n        if (!authUser) return null;\n\n        const { data: userData, error } = await supabase\n            .from('users')\n            .select('*')\n            .eq('id', authUser.id)\n            .maybeSingle();\n\n        if (error) {\n            console.error('Error fetching user data:', error);\n            return null;\n        }\n\n        if (!userData) {\n            console.warn('User authenticated but no profile found');\n            return null;\n        }\n\n        return {\n            id: userData.id,\n            email: userData.email,\n            mobile: userData.mobile,\n            name: userData.name,\n            company_name: userData.company_name,\n            role: userData.role,\n            created_at: new Date(userData.created_at),\n            updated_at: new Date(userData.updated_at),\n            rm_id: userData.rm_id,\n            customer_id: userData.customer_id,\n        };\n    } catch (error) {\n        console.error('Error getting current user:', error);\n        return null;\n    }\n}\n\n/**\n * Get Supabase auth state change listener\n */\nexport function onAuthStateChange(callback: (user: User | null) => void) {\n    return supabase.auth.onAuthStateChange(async (event: string, session: any) => {\n        if (session?.user) {\n            const user = await getCurrentUser();\n            callback(user);\n        } else {\n            callback(null);\n        }\n    });\n}\n\n/**\n * Check if user has specific role\n */\nexport function hasRole(user: User | null, roles: UserRole[]): boolean {\n    return user ? roles.includes(user.role) : false;\n}\n\n/**\n * Check if user is admin\n */\nexport function isAdmin(user: User | null): boolean {\n    return hasRole(user, ['admin']);\n}\n\n/**\n * Check if user is customer (individual or corporate)\n */\nexport function isCustomer(user: User | null): boolean {\n    return hasRole(user, ['individual', 'corporate_employee', 'corporate_admin']);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;;AAMO,eAAe,OAClB,KAAa,EACb,QAAgB,EAChB,IAAY,EACZ,MAAc,EACd,IAAc,EACd,YAAqB;IAErB,IAAI;QACA,iCAAiC;QACjC,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,+IAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;YACpE;YACA;QACJ;QAEA,IAAI,WAAW,MAAM;QACrB,IAAI,CAAC,SAAS,IAAI,EAAE,MAAM,IAAI,MAAM;QAEpC,wEAAwE;QACxE,MAAM,aAAa,SAAS,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,SAAS,CAAC,GAAG,GAAG,WAAW;QAElF,6BAA6B;QAC7B,MAAM,UAAmD;YACrD,IAAI,SAAS,IAAI,CAAC,EAAE;YACpB;YACA;YACA;YACA,cAAc,AAAC,SAAS,wBAAwB,SAAS,oBAAqB,eAAe;YAC7F;YACA,aAAa;QACjB;QAEA,kEAAkE;QAClE,IAAI,UAAU;QACd,MAAO,UAAU,EAAG;YAChB,IAAI;gBACA,sCAAsC;gBACtC,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;gBAEjD,MAAM,EAAE,OAAO,OAAO,EAAE,GAAG,MAAM,+IAAQ,CACpC,IAAI,CAAC,SACL,MAAM,CAAC;oBACJ,IAAI,SAAS,IAAI,CAAC,EAAE;oBACpB,OAAO,QAAQ,KAAK;oBACpB,QAAQ,QAAQ,MAAM;oBACtB,MAAM,QAAQ,IAAI;oBAClB,cAAc,QAAQ,YAAY;oBAClC,MAAM,QAAQ,IAAI;oBAClB,aAAa,QAAQ,WAAW;gBACpC;gBAEJ,IAAI,SAAS;oBACT,0DAA0D;oBAC1D,IAAI,QAAQ,IAAI,KAAK,SAAS,MAAM;oBAEpC,6DAA6D;oBAC7D,IAAI,QAAQ,IAAI,KAAK,SAAS;wBAC1B,QAAQ,GAAG,CAAC;wBAEZ,wEAAwE;wBACxE,MAAM,EAAE,MAAM,eAAe,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,+IAAQ,CAC9D,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,SAAS,OACZ,WAAW;wBAEhB,IAAI,CAAC,cAAc,iBAAiB;4BAChC,iEAAiE;4BACjE,IAAI,gBAAgB,EAAE,KAAK,SAAS,IAAI,CAAC,EAAE,EAAE;gCACzC,OAAO;oCACH,GAAG,eAAe;oCAClB,YAAY,IAAI,KAAK,gBAAgB,UAAU;oCAC/C,YAAY,IAAI,KAAK,gBAAgB,UAAU;gCACnD;4BACJ;4BAEA,6EAA6E;4BAC7E,QAAQ,GAAG,CAAC;4BACZ,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,+IAAQ,CACxC,IAAI,CAAC,SACL,MAAM,CAAC;gCACJ,IAAI,SAAS,IAAI,CAAC,EAAE;gCACpB,YAAY,IAAI,OAAO,WAAW;4BACtC,GACC,EAAE,CAAC,SAAS;4BAEjB,IAAI,aAAa;gCACb,QAAQ,KAAK,CAAC,oCAAoC;gCAClD,MAAM;4BACV;4BAEA,6BAA6B;4BAC7B,OAAO;gCACH,GAAG,eAAe;gCAClB,IAAI,SAAS,IAAI,CAAC,EAAE;gCACpB,YAAY,IAAI,KAAK,gBAAgB,UAAU;gCAC/C,YAAY,IAAI;4BACpB;wBACJ;oBACJ;oBAEA,kCAAkC;oBAClC,MAAM;gBACV;gBAGA;YACJ,EAAE,OAAO,OAAY;gBACjB;gBACA,IAAI,YAAY,GAAG;oBACf,QAAQ,KAAK,CAAC,gDAAgD;oBAC9D,MAAM,IAAI,MAAM;gBACpB;gBACA,QAAQ,GAAG,CAAC,CAAC,mCAAmC,EAAE,QAAQ,eAAe,CAAC;YAC9E;QACJ;QAEA,OAAO;YACH,GAAG,OAAO;YACV,YAAY,IAAI;YAChB,YAAY,IAAI;QACpB;IACJ,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACrC;AACJ;AAKO,eAAe,cAAc,KAAa;IAC7C,IAAI;QACA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,+IAAQ,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO;YAC/D,YAAY,uCAAgC,GAAG,OAAO,QAAQ,CAAC,MAAM,CAAC,gBAAgB,CAAC,GAAG;QAC9F;QACA,IAAI,OAAO,MAAM;IACrB,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACrC;AACJ;AAKO,eAAe,OAAO,KAAa,EAAE,QAAgB;IACxD,IAAI;QACA,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,+IAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;YAChF;YACA;QACJ;QAEA,IAAI,WAAW,MAAM;QACrB,IAAI,CAAC,SAAS,IAAI,EAAE,MAAM,IAAI,MAAM;QAEpC,gCAAgC;QAChC,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,OAAO,EAAE,GAAG,MAAM,+IAAQ,CACpD,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,SAAS,IAAI,CAAC,EAAE,EACzB,WAAW;QAEhB,IAAI,SAAS,MAAM;QACnB,IAAI,CAAC,UAAU,MAAM,IAAI,MAAM;QAE/B,OAAO;YACH,IAAI,SAAS,EAAE;YACf,OAAO,SAAS,KAAK;YACrB,QAAQ,SAAS,MAAM;YACvB,MAAM,SAAS,IAAI;YACnB,cAAc,SAAS,YAAY;YACnC,MAAM,SAAS,IAAI;YACnB,YAAY,IAAI,KAAK,SAAS,UAAU;YACxC,YAAY,IAAI,KAAK,SAAS,UAAU;YACxC,OAAO,SAAS,KAAK;YACrB,aAAa,SAAS,WAAW;QACrC;IACJ,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,kBAAkB;QAChC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACrC;AACJ;AAKO,eAAe;IAClB,IAAI;QACA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,+IAAQ,CAAC,IAAI,CAAC,OAAO;QAC7C,IAAI,OAAO,MAAM;IACrB,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,mBAAmB;QACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACrC;AACJ;AAKO,eAAe;IAClB,IAAI;QACA,MAAM,EAAE,MAAM,EAAE,MAAM,QAAQ,EAAE,EAAE,GAAG,MAAM,+IAAQ,CAAC,IAAI,CAAC,OAAO;QAEhE,IAAI,CAAC,UAAU,OAAO;QAEtB,MAAM,EAAE,MAAM,QAAQ,EAAE,KAAK,EAAE,GAAG,MAAM,+IAAQ,CAC3C,IAAI,CAAC,SACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,SAAS,EAAE,EACpB,WAAW;QAEhB,IAAI,OAAO;YACP,QAAQ,KAAK,CAAC,6BAA6B;YAC3C,OAAO;QACX;QAEA,IAAI,CAAC,UAAU;YACX,QAAQ,IAAI,CAAC;YACb,OAAO;QACX;QAEA,OAAO;YACH,IAAI,SAAS,EAAE;YACf,OAAO,SAAS,KAAK;YACrB,QAAQ,SAAS,MAAM;YACvB,MAAM,SAAS,IAAI;YACnB,cAAc,SAAS,YAAY;YACnC,MAAM,SAAS,IAAI;YACnB,YAAY,IAAI,KAAK,SAAS,UAAU;YACxC,YAAY,IAAI,KAAK,SAAS,UAAU;YACxC,OAAO,SAAS,KAAK;YACrB,aAAa,SAAS,WAAW;QACrC;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;IACX;AACJ;AAKO,SAAS,kBAAkB,QAAqC;IACnE,OAAO,+IAAQ,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,OAAe;QACzD,IAAI,SAAS,MAAM;YACf,MAAM,OAAO,MAAM;YACnB,SAAS;QACb,OAAO;YACH,SAAS;QACb;IACJ;AACJ;AAKO,SAAS,QAAQ,IAAiB,EAAE,KAAiB;IACxD,OAAO,OAAO,MAAM,QAAQ,CAAC,KAAK,IAAI,IAAI;AAC9C;AAKO,SAAS,QAAQ,IAAiB;IACrC,OAAO,QAAQ,MAAM;QAAC;KAAQ;AAClC;AAKO,SAAS,WAAW,IAAiB;IACxC,OAAO,QAAQ,MAAM;QAAC;QAAc;QAAsB;KAAkB;AAChF"}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/OneSingleView/app/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, Suspense } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport Link from 'next/link';\nimport { Shield, Mail, Lock } from 'lucide-react';\nimport { signIn } from '@/lib/auth';\n\nfunction LoginForm() {\n    const router = useRouter();\n    const searchParams = useSearchParams();\n    const type = searchParams.get('type') || 'individual';\n\n    const [formData, setFormData] = useState({\n        email: '',\n        password: '',\n    });\n    const [error, setError] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const handleSubmit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setError('');\n        setLoading(true);\n\n        try {\n            const user = await signIn(formData.email, formData.password);\n\n            console.log('üîç Login Debug - User role:', user.role);\n            console.log('üîç Login Debug - Full user:', user);\n\n            // Redirect based on user role\n            if (user.role === 'admin') {\n                console.log('üîç Redirecting to /admin/dashboard');\n                router.push('/admin/dashboard');\n            } else {\n                // All other roles (individual, corporate_employee, corporate_admin) go to main dashboard\n                console.log('üîç Redirecting to /dashboard');\n                router.push('/dashboard');\n            }\n        } catch (err: any) {\n            setError(err.message || 'Failed to sign in. Please check your credentials.');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 flex items-center justify-center py-12 px-4\">\n            <div className=\"max-w-md w-full space-y-8\">\n                {/* Header */}\n                <div className=\"text-center\">\n                    <Link href=\"/\" className=\"inline-flex items-center space-x-2 mb-6\">\n                        <Shield className=\"w-10 h-10 text-primary-600\" />\n                        <span className=\"text-2xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent\">\n                            One Single View\n                        </span>\n                    </Link>\n                    <h2 className=\"text-3xl font-bold text-gray-900\">\n                        {type === 'corporate' ? 'Corporate Login' : 'Individual Login'}\n                    </h2>\n                    <p className=\"mt-2 text-sm text-gray-600\">\n                        Access your insurance dashboard\n                    </p>\n                </div>\n\n                {/* Login Type Toggle */}\n                <div className=\"flex gap-2\">\n                    <Link\n                        href=\"/login?type=individual\"\n                        className={`flex-1 py-2 px-4 text-center rounded-lg font-medium transition-all ${type === 'individual'\n                            ? 'bg-primary-600 text-white shadow-sm'\n                            : 'bg-white text-gray-600 hover:bg-gray-50 border border-gray-200'\n                            }`}\n                    >\n                        Individual\n                    </Link>\n                    <Link\n                        href=\"/login?type=corporate\"\n                        className={`flex-1 py-2 px-4 text-center rounded-lg font-medium transition-all ${type === 'corporate'\n                            ? 'bg-secondary-600 text-white shadow-sm'\n                            : 'bg-white text-gray-600 hover:bg-gray-50 border border-gray-200'\n                            }`}\n                    >\n                        Corporate\n                    </Link>\n                </div>\n\n                {/* Login Form */}\n                <div className=\"card\">\n                    <form onSubmit={handleSubmit} className=\"space-y-6\">\n                        {error && (\n                            <div className=\"alert-error\">\n                                {error}\n                            </div>\n                        )}\n\n                        <div>\n                            <label className=\"label\">\n                                <Mail className=\"w-4 h-4 inline mr-2\" />\n                                Email address\n                            </label>\n                            <input\n                                type=\"email\"\n                                required\n                                className=\"input\"\n                                placeholder=\"you@example.com\"\n                                value={formData.email}\n                                onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                            />\n                        </div>\n\n                        <div>\n                            <label className=\"label\">\n                                <Lock className=\"w-4 h-4 inline mr-2\" />\n                                Password\n                            </label>\n                            <input\n                                type=\"password\"\n                                required\n                                className=\"input\"\n                                placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                                value={formData.password}\n                                onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n                            />\n                        </div>\n\n                        <div className=\"flex items-center justify-between\">\n                            <label className=\"flex items-center\">\n                                <input type=\"checkbox\" className=\"rounded border-gray-300 text-primary-600 mr-2\" />\n                                <span className=\"text-sm text-gray-600\">Remember me</span>\n                            </label>\n                            <Link href=\"/forgot-password\" className=\"text-sm text-primary-600 hover:text-primary-700\">\n                                Forgot password?\n                            </Link>\n                        </div>\n\n                        <button\n                            type=\"submit\"\n                            disabled={loading}\n                            className=\"btn-primary w-full\"\n                        >\n                            {loading ? 'Signing in...' : 'Sign In'}\n                        </button>\n                    </form>\n\n                    <div className=\"mt-6 text-center\">\n                        <p className=\"text-sm text-gray-600\">\n                            Don't have an account?{' '}\n                            <Link href={`/signup?type=${type}`} className=\"text-primary-600 font-medium hover:text-primary-700\">\n                                Sign up\n                            </Link>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default function LoginPage() {\n    return (\n        <Suspense fallback={<div className=\"min-h-screen flex items-center justify-center\">Loading...</div>}>\n            <LoginForm />\n        </Suspense>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}