{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/OneSingleView/components/loan/LoanSidebar.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname, useRouter } from 'next/navigation';\nimport { useState } from 'react';\nimport {\n    LayoutDashboard,\n    Users,\n    FileText,\n    Briefcase,\n    UserCheck,\n    DollarSign,\n    FileCheck,\n    Bell,\n    UserCircle,\n    LogOut,\n    X,\n    Menu,\n    TrendingUp\n} from 'lucide-react';\nimport { User } from '@/types';\nimport { cn } from '@/lib/utils';\nimport { signOut } from '@/lib/auth';\n\ninterface LoanSidebarProps {\n    user: User;\n    isOpen: boolean;\n    onClose: () => void;\n}\n\ntype NavItem = {\n    label: string;\n    href: string;\n    icon: any;\n};\n\nexport default function LoanSidebar({ user, isOpen, onClose }: LoanSidebarProps) {\n    const pathname = usePathname();\n    const router = useRouter();\n    const [isUploadingAvatar, setIsUploadingAvatar] = useState(false);\n\n    const navItems: NavItem[] = [\n        { href: '/loan-dashboard', icon: LayoutDashboard, label: 'Dashboard' },\n        { href: '/loan-dashboard/leads', icon: TrendingUp, label: 'Leads' },\n        { href: '/loan-dashboard/applications', icon: FileText, label: 'Applications' },\n        { href: '/loan-dashboard/partners', icon: Briefcase, label: 'Partners' },\n        { href: '/loan-dashboard/employees', icon: Users, label: 'Employees' },\n        { href: '/loan-dashboard/managers', icon: UserCheck, label: 'Managers' },\n        { href: '/loan-dashboard/payouts', icon: DollarSign, label: 'Payouts' },\n        { href: '/loan-dashboard/payout-requests', icon: FileCheck, label: 'Payout Requests' },\n        { href: '/loan-dashboard/notifications', icon: Bell, label: 'Notifications' },\n    ];\n\n    return (\n        <>\n            {/* Mobile Overlay */}\n            {isOpen && (\n                <div\n                    className=\"fixed inset-0 bg-black/50 z-40 md:hidden\"\n                    onClick={onClose}\n                />\n            )}\n\n            {/* Sidebar */}\n            <aside\n                className={cn(\n                    \"fixed left-0 top-0 h-full bg-white border-r border-gray-200 flex flex-col z-50 transition-transform duration-300 ease-in-out\",\n                    \"w-72\",\n                    isOpen ? \"translate-x-0\" : \"-translate-x-full md:translate-x-0\"\n                )}\n            >\n                {/* Logo & Close Button */}\n                <div className=\"flex items-center justify-between px-6 py-6 border-b border-gray-100\">\n                    <div className=\"flex items-center\">\n                        <div className=\"w-8 h-8 bg-gradient-to-br from-loan-primary-400 to-loan-primary-600 rounded-lg flex items-center justify-center shadow-lg shadow-loan-primary-500/30\">\n                            <DollarSign className=\"w-5 h-5 text-white\" />\n                        </div>\n                        <span className=\"ml-3 text-lg font-bold text-gray-900 tracking-tight\">\n                            LoanHub\n                        </span>\n                    </div>\n                    <button\n                        onClick={onClose}\n                        className=\"md:hidden p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n                    >\n                        <X className=\"w-5 h-5 text-gray-500\" />\n                    </button>\n                </div>\n\n                {/* Navigation */}\n                <nav className=\"flex-1 px-3 py-4 space-y-1 overflow-y-auto scrollbar-hide\">\n                    {navItems.map((item) => {\n                        const isActive = pathname === item.href;\n                        const Icon = item.icon;\n\n                        return (\n                            <Link\n                                key={item.href}\n                                href={item.href}\n                                onClick={onClose}\n                                className={cn(\n                                    'flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 group',\n                                    isActive\n                                        ? 'bg-loan-primary-50 text-loan-primary-700 shadow-sm'\n                                        : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\n                                )}\n                            >\n                                <Icon\n                                    className={cn(\n                                        \"w-5 h-5 mr-3 transition-colors\",\n                                        isActive ? \"text-loan-primary-600\" : \"text-gray-400 group-hover:text-gray-600\"\n                                    )}\n                                />\n                                {item.label}\n                            </Link>\n                        );\n                    })}\n                </nav>\n\n                {/* User Profile Section (Bottom) */}\n                <div className=\"mt-auto px-4 py-4 border-t border-gray-100\">\n                    <div className=\"flex flex-col items-center text-center space-y-3\">\n                        {/* Profile Picture */}\n                        <div className=\"relative group\">\n                            <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-loan-primary-400 to-loan-primary-600 flex items-center justify-center text-white font-bold text-xl shadow-lg overflow-hidden\">\n                                {user.avatar_url ? (\n                                    <img src={user.avatar_url} alt={user.name} className=\"w-full h-full object-cover\" />\n                                ) : (\n                                    user.name.charAt(0).toUpperCase()\n                                )}\n                            </div>\n\n                            {/* Loading Overlay */}\n                            {isUploadingAvatar && (\n                                <div className=\"absolute inset-0 flex items-center justify-center bg-black/60 rounded-full\">\n                                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-white\"></div>\n                                </div>\n                            )}\n\n                            {/* Edit Overlay */}\n                            {!isUploadingAvatar && (\n                                <label\n                                    htmlFor=\"loan-avatar-upload\"\n                                    className=\"absolute inset-0 flex items-center justify-center bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer\"\n                                >\n                                    <div className=\"bg-white/20 p-1.5 rounded-full backdrop-blur-sm\">\n                                        <UserCircle className=\"w-5 h-5 text-white\" />\n                                    </div>\n                                </label>\n                            )}\n                            <input\n                                id=\"loan-avatar-upload\"\n                                type=\"file\"\n                                accept=\"image/*\"\n                                className=\"hidden\"\n                                disabled={isUploadingAvatar}\n                                onChange={async (e) => {\n                                    const file = e.target.files?.[0];\n                                    if (!file || isUploadingAvatar) return;\n\n                                    setIsUploadingAvatar(true);\n\n                                    try {\n                                        const { uploadAvatar } = await import('@/lib/db');\n                                        const url = await uploadAvatar(user.id, file);\n\n                                        if (url) {\n                                            user.avatar_url = url;\n                                            router.refresh();\n                                            setIsUploadingAvatar(false);\n                                        } else {\n                                            setIsUploadingAvatar(false);\n                                            alert('Failed to upload image.');\n                                        }\n                                    } catch (error) {\n                                        console.error('[Avatar Upload] Error:', error);\n                                        setIsUploadingAvatar(false);\n                                        alert(`Failed to upload image: ${error instanceof Error ? error.message : 'Unknown error'}`);\n                                    } finally {\n                                        e.target.value = '';\n                                    }\n                                }}\n                            />\n                        </div>\n\n                        {/* User Name */}\n                        <div className=\"w-full\">\n                            <p className=\"text-base font-bold text-gray-900 truncate\">\n                                {user.name}\n                            </p>\n                            {user.customer_id && (\n                                <p className=\"text-xs text-gray-500 mt-0.5 font-medium\">\n                                    ID: {user.customer_id}\n                                </p>\n                            )}\n                        </div>\n\n                        {/* Action Buttons */}\n                        <div className=\"flex gap-2 w-full\">\n                            <Link\n                                href=\"/profile\"\n                                className=\"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium text-gray-700 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors\"\n                            >\n                                <UserCircle className=\"w-3.5 h-3.5\" />\n                                Profile\n                            </Link>\n                            <button\n                                onClick={async () => {\n                                    try {\n                                        await signOut();\n                                        router.push('/');\n                                        router.refresh();\n                                    } catch (error) {\n                                        console.error('Error signing out:', error);\n                                    }\n                                }}\n                                className=\"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors\"\n                            >\n                                <LogOut className=\"w-3.5 h-3.5\" />\n                                Sign Out\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </aside>\n        </>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/OneSingleView/app/%28loan%29/layout.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport LoanSidebar from '@/components/loan/LoanSidebar';\nimport { Menu } from 'lucide-react';\nimport { useAuth } from '@/hooks/useAuth';\n\nexport default function LoanLayout({ children }: { children: React.ReactNode }) {\n    const [sidebarOpen, setSidebarOpen] = useState(false);\n    const { user, loading } = useAuth();\n\n    if (loading || !user) {\n        return (\n            <div className=\"flex items-center justify-center h-screen bg-gray-50\">\n                <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-loan-primary-600\"></div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-gray-50 flex\">\n            {/* Sidebar */}\n            <LoanSidebar user={user} isOpen={sidebarOpen} onClose={() => setSidebarOpen(false)} />\n\n            {/* Main Content */}\n            <div className=\"flex-1 md:ml-72\">\n                {/* Mobile Header with Menu Button */}\n                <div className=\"md:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between sticky top-0 z-30\">\n                    <button\n                        onClick={() => setSidebarOpen(true)}\n                        className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n                    >\n                        <Menu className=\"w-6 h-6 text-gray-700\" />\n                    </button>\n                    <span className=\"text-lg font-bold text-gray-900\">LoanHub</span>\n                    <div className=\"w-10\"></div> {/* Spacer for centering */}\n                </div>\n\n                {/* Page Content */}\n                <main className=\"p-4 md:p-8\">\n                    {children}\n                </main>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;;;;AAJA;;;;;;AAOe,SAAS,WAAW,EAAE,QAAQ,EAAiC;IAC1E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,kOAAQ,EAAC;IAC/C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG;IAE1B,IAAI,WAAW,CAAC,MAAM;QAClB,qBACI,+PAAC;YAAI,WAAU;sBACX,cAAA,+PAAC;gBAAI,WAAU;;;;;;;;;;;IAG3B;IAEA,qBACI,+PAAC;QAAI,WAAU;;0BAEX,+PAAC,8JAAW;gBAAC,MAAM;gBAAM,QAAQ;gBAAa,SAAS,IAAM,eAAe;;;;;;0BAG5E,+PAAC;gBAAI,WAAU;;kCAEX,+PAAC;wBAAI,WAAU;;0CACX,+PAAC;gCACG,SAAS,IAAM,eAAe;gCAC9B,WAAU;0CAEV,cAAA,+PAAC,2NAAI;oCAAC,WAAU;;;;;;;;;;;0CAEpB,+PAAC;gCAAK,WAAU;0CAAkC;;;;;;0CAClD,+PAAC;gCAAI,WAAU;;;;;;4BAAa;;;;;;;kCAIhC,+PAAC;wBAAK,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAKrB"}}]
}