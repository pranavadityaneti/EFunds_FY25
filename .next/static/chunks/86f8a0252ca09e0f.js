(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37284,e=>{"use strict";let s=(0,e.i(36869).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>s],37284)},46800,e=>{"use strict";let s=(0,e.i(36869).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>s],46800)},65218,e=>{"use strict";let s=(0,e.i(36869).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>s],65218)},94782,e=>{"use strict";let s=(0,e.i(36869).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],94782)},59598,e=>{"use strict";let s=(0,e.i(36869).default)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);e.s(["Building",()=>s],59598)},70212,e=>{"use strict";var s=e.i(9295),t=e.i(13428),a=e.i(63030),r=e.i(46800),l=e.i(65218),i=e.i(59598),d=e.i(37284),c=e.i(94782),n=e.i(36271);function x(){let e=(0,a.useParams)(),x=(0,a.useRouter)(),o=e.id,[h,m]=(0,t.useState)(null),[p,y]=(0,t.useState)(!0),[g,u]=(0,t.useState)([]),[j,N]=(0,t.useState)([]),[f,b]=(0,t.useState)("overview");(0,t.useEffect)(()=>{o&&v()},[o]);let v=async()=>{try{let[e,s,t,a,r]=await Promise.all([(0,n.getUserById)(o),(0,n.getUserMotorPolicies)(o),(0,n.getUserHealthPolicies)(o),(0,n.getUserCommercialPolicies)(o),(0,n.getUserAuditLogs)(o)]);m(e);let l=[...s.map(e=>({...e,type:"Motor"})),...t.map(e=>({...e,type:"Health"})),...a.map(e=>({...e,type:"Commercial"}))].sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime());u(l),N(r)}catch(e){console.error("Failed to load user data:",e)}finally{y(!1)}};return p?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):h?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("button",{onClick:()=>x.back(),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,s.jsx)(c.ArrowLeft,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:h.name}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-gray-500 gap-2",children:[(0,s.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-0.5 rounded text-gray-700",children:h.customer_id||"ID: N/A"}),(0,s.jsx)("span",{children:"â€¢"}),(0,s.jsxs)("span",{className:"capitalize",children:[h.role," Account"]})]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,s.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600",children:(0,s.jsx)(r.Mail,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Email"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:h.email})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center text-green-600",children:(0,s.jsx)(l.Phone,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Mobile"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:h.mobile})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center text-purple-600",children:(0,s.jsx)(i.Building,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Company"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:h.company_name||"N/A"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center text-orange-600",children:(0,s.jsx)(d.Calendar,{className:"w-5 h-5"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Joined"}),(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:new Date(h.created_at).toLocaleDateString()})]})]})]})}),(0,s.jsx)("div",{className:"border-b border-gray-200",children:(0,s.jsx)("nav",{className:"-mb-px flex space-x-8",children:["overview","policies","activity"].map(e=>(0,s.jsx)("button",{onClick:()=>b(e),className:`
                                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm capitalize
                                ${f===e?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                            `,children:e},e))})}),(0,s.jsxs)("div",{className:"min-h-[300px]",children:["overview"===f&&(0,s.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:(0,s.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900 mb-4",children:"Portfolio Summary"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Total Policies"}),(0,s.jsx)("span",{className:"font-bold text-xl",children:g.length})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Active Claims"}),(0,s.jsx)("span",{className:"font-bold text-xl text-orange-600",children:"0"})]})]})]})}),"policies"===f&&(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Policy No"}),(0,s.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Type"}),(0,s.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Insurer"}),(0,s.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Expiry"}),(0,s.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Status"})]})}),(0,s.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[g.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 font-mono text-sm",children:e.policy_number}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:e.type}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:e.insurer_name}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:new Date(e.expiry_date||e.policy_end_date).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})})]},e.id)),0===g.length&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No policies found for this user."})})]})]})}),"activity"===f&&(0,s.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,s.jsx)("div",{className:"space-y-6",children:j.length>0?j.map(e=>(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300 ring-4 ring-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.action.replace("_"," ")}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleString()})]})]},e.id)):(0,s.jsx)("div",{className:"text-center text-gray-500 py-8",children:"No activity logs found."})})})]})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"User not found"}),(0,s.jsx)("button",{onClick:()=>x.back(),className:"mt-4 text-primary-600 hover:underline",children:"Go back"})]})}e.s(["default",()=>x])}]);