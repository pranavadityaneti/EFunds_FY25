(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94782,e=>{"use strict";let s=(0,e.i(36869).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],94782)},10398,e=>{"use strict";var s=e.i(9295),t=e.i(13428),a=e.i(63030),r=e.i(94782),l=e.i(82554),c=e.i(52187),i=e.i(13393),n=e.i(95120);function d({params:e}){let d=(0,a.useRouter)(),{id:x}=(0,t.use)(e),[m,o]=(0,t.useState)(null),[g,h]=(0,t.useState)(!0);return((0,t.useEffect)(()=>{(async()=>{try{let{data:e,error:s}=await n.supabase.from("motor_policies").select("*").eq("id",x).single();if(s)throw s;o(e)}catch(e){console.error("Error fetching policy:",e)}finally{h(!1)}})()},[x]),g)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):m?(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("button",{onClick:()=>d.back(),className:"flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[(0,s.jsx)(r.ArrowLeft,{className:"w-5 h-5 mr-2"}),"Back"]}),(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${"Active"===m.status?"bg-green-100 text-green-700":"Expired"===m.status?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:m.status})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 shadow-soft",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:m.policy_number}),(0,s.jsx)("p",{className:"text-gray-600",children:"Motor Insurance Policy"})]}),(0,s.jsx)("div",{className:"p-4 bg-white rounded-xl shadow-sm",children:(0,s.jsx)(c.Car,{className:"w-8 h-8 text-blue-600"})})]}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Premium Amount"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["₹",m.premium_amount.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Policy Type"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:m.policy_type})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Insurer"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:m.insurer_name})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-soft",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(c.Car,{className:"w-5 h-5 mr-2 text-blue-600"}),"Vehicle Details"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Registration Number"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:m.vehicle_number})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Make & Model"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[m.manufacturer," ",m.model]})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Vehicle Type"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:m.vehicle_type})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Fuel Type"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:m.fuel_type})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Manufacturing Year"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:m.manufacturing_year})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Number Plate"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:m.number_plate_type})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-soft",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(i.Shield,{className:"w-5 h-5 mr-2 text-green-600"}),"Policy Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Start Date"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:new Date(m.policy_start_date).toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"End Date"}),(0,s.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:new Date(m.policy_end_date).toLocaleDateString()})]}),m.idv&&(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"IDV (Insured Declared Value)"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:["₹",m.idv.toLocaleString()]})]}),void 0!==m.ncb_percentage&&(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"NCB Percentage"}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[m.ncb_percentage,"%"]})]}),m.addon_covers&&(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-xl col-span-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Add-on Covers"}),(0,s.jsx)("p",{className:"text-sm text-gray-900",children:m.addon_covers})]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-soft",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(l.FileText,{className:"w-5 h-5 mr-2 text-purple-600"}),"Documents"]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[m.rc_docs&&m.rc_docs.map((e,t)=>(0,s.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,s.jsxs)("span",{className:"flex items-center text-gray-700",children:[(0,s.jsx)(l.FileText,{className:"w-4 h-4 mr-2 text-gray-500"}),"RC Document ",t+1]}),(0,s.jsx)("span",{className:"text-sm text-primary-600 font-medium",children:"View"})]},`rc-${t}`)),m.previous_policy_docs&&m.previous_policy_docs.map((e,t)=>(0,s.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,s.jsxs)("span",{className:"flex items-center text-gray-700",children:[(0,s.jsx)(l.FileText,{className:"w-4 h-4 mr-2 text-gray-500"}),"Previous Policy ",t+1]}),(0,s.jsx)("span",{className:"text-sm text-primary-600 font-medium",children:"View"})]},`prev-${t}`)),m.dl_docs&&m.dl_docs.map((e,t)=>(0,s.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,s.jsxs)("span",{className:"flex items-center text-gray-700",children:[(0,s.jsx)(l.FileText,{className:"w-4 h-4 mr-2 text-gray-500"}),"Driving License ",t+1]}),(0,s.jsx)("span",{className:"text-sm text-primary-600 font-medium",children:"View"})]},`dl-${t}`)),!m.rc_docs?.length&&!m.previous_policy_docs?.length&&!m.dl_docs?.length&&(0,s.jsx)("p",{className:"text-gray-500 italic",children:"No documents uploaded"})]})]})]}):(0,s.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-12 text-center shadow-soft",children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Policy not found"}),(0,s.jsx)("button",{onClick:()=>d.push("/policies"),className:"mt-4 btn btn-primary",children:"Back to Policies"})]})})}e.s(["default",()=>d])}]);