(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16837,e=>{"use strict";var t=e.i(9295),r=e.i(13428),a=e.i(63030),s=e.i(45091),l=e.i(36271),i=e.i(96534),o=e.i(52187),n=e.i(87382),c=e.i(43302),d=e.i(73802),x=e.i(13393),m=e.i(36869);let u=(0,m.default)("Umbrella",[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]]);var p=e.i(82554),h=e.i(17813),g=e.i(15746),y=e.i(31685),b=e.i(17774),f=e.i(47219),j=e.i(61813);function v({activeCount:e,settledCount:r,rejectedCount:a}){return(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-4 shadow-soft border border-gray-100 h-full flex flex-col justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-gray-900 font-bold text-sm",children:"Claims Overview"}),(0,t.jsxs)(b.default,{href:"/claims",className:"text-primary-600 text-xs font-bold hover:underline flex items-center",children:["View All ",(0,t.jsx)(j.ArrowRight,{className:"w-3 h-3 ml-1"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{className:"bg-orange-50 rounded-xl p-3 text-center border border-orange-100",children:[(0,t.jsx)("div",{className:"w-6 h-6 mx-auto bg-white rounded-full flex items-center justify-center mb-1 shadow-sm text-orange-500",children:(0,t.jsx)(g.AlertCircle,{className:"w-3 h-3"})}),(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900 leading-none mb-1",children:e}),(0,t.jsx)("p",{className:"text-[9px] font-bold text-orange-600 uppercase tracking-wide",children:"In Progress"})]}),(0,t.jsxs)("div",{className:"bg-green-50 rounded-xl p-3 text-center border border-green-100",children:[(0,t.jsx)("div",{className:"w-6 h-6 mx-auto bg-white rounded-full flex items-center justify-center mb-1 shadow-sm text-green-500",children:(0,t.jsx)(f.CheckCircle,{className:"w-3 h-3"})}),(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900 leading-none mb-1",children:r}),(0,t.jsx)("p",{className:"text-[9px] font-bold text-green-600 uppercase tracking-wide",children:"Settled"})]}),(0,t.jsxs)("div",{className:"bg-red-50 rounded-xl p-3 text-center border border-red-100",children:[(0,t.jsx)("div",{className:"w-6 h-6 mx-auto bg-white rounded-full flex items-center justify-center mb-1 shadow-sm text-red-500",children:(0,t.jsx)(y.XCircle,{className:"w-3 h-3"})}),(0,t.jsx)("p",{className:"text-xl font-bold text-gray-900 leading-none mb-1",children:a}),(0,t.jsx)("p",{className:"text-[9px] font-bold text-red-600 uppercase tracking-wide",children:"Rejected"})]})]}),(0,t.jsxs)("div",{className:"mt-2 border-t border-dashed border-gray-200 pt-3 text-center",children:[(0,t.jsx)("p",{className:"text-xs text-gray-400 font-medium mb-2",children:"No active claims"}),(0,t.jsx)(b.default,{href:"/claims?action=new",className:"block w-full py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl text-xs font-bold shadow-lg shadow-primary-600/20 transition-all active:scale-95",children:"Register a New Claim"})]})]})}let N=(0,m.default)("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);function w(){return(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-3xl p-8 text-white shadow-lg shadow-blue-500/25 relative overflow-hidden transition-transform hover:-translate-y-1 h-full flex flex-col justify-center",style:{width:"calc(100% + 96px)",maxWidth:"100%"},children:[(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:(0,t.jsx)(N,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("span",{className:"text-xs font-bold uppercase tracking-wider text-blue-100 bg-white/10 px-2 py-1 rounded-full",children:"Partner Offer"})]}),(0,t.jsx)("h3",{className:"font-bold text-2xl mb-3 leading-tight",children:"Your imaging exams have never been so uncomplicated."}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsxs)("button",{className:"bg-white text-blue-700 px-5 py-2.5 rounded-xl text-sm font-bold flex items-center hover:bg-blue-50 transition-colors shadow-sm",children:["Book Now ",(0,t.jsx)(j.ArrowRight,{className:"w-4 h-4 ml-2"})]})})]}),(0,t.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-blue-500/30 rounded-full blur-2xl -ml-12 -mb-12"}),(0,t.jsx)("svg",{className:"absolute right-0 bottom-0 opacity-20",width:"200",height:"200",viewBox:"0 0 200 200",children:(0,t.jsx)("path",{d:"M0 200 C 50 200 100 150 100 100 C 100 50 150 0 200 0",stroke:"white",strokeWidth:"2",fill:"none",strokeDasharray:"5,5"})})]})}var _=e.i(31011),C=e.i(1624),S=e.i(78836),A=e.i(49105),k=e.i(74405);function P({data:e}){let r=[{name:"Motor",value:e.motor,color:"#3B82F6"},{name:"Health",value:e.health,color:"#8b5cf6"},{name:"GPA",value:e.gpa,color:"#06B6D4"},{name:"Fire",value:e.fire,color:"#F59E0B"},{name:"Others",value:e.others,color:"#10B981"}].filter(e=>e.value>0),a=r.reduce((e,t)=>e+t.value,0);return 0===r.length?(0,t.jsxs)("div",{className:"w-full h-full bg-white rounded-2xl p-6 shadow-soft border border-gray-100 flex flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-50 rounded-full flex items-center justify-center mb-3",children:(0,t.jsx)("span",{className:"text-xl",children:"ðŸ“Š"})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"No data available"})]}):(0,t.jsxs)("div",{className:"w-full h-full bg-white rounded-2xl p-6 shadow-soft border border-gray-100 flex flex-col",children:[(0,t.jsx)("h3",{className:"text-gray-900 font-bold text-base mb-6",children:"Source of Premium"}),(0,t.jsxs)("div",{className:"flex-1 relative min-h-[200px]",children:[(0,t.jsx)(A.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(_.PieChart,{children:[(0,t.jsx)(C.Pie,{data:r,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",cornerRadius:6,stroke:"none",children:r.map((e,r)=>(0,t.jsx)(S.Cell,{fill:e.color},`cell-${r}`))}),(0,t.jsx)(k.Tooltip,{formatter:e=>(0,i.formatCurrency)(e),contentStyle:{backgroundColor:"white",border:"none",borderRadius:"8px",padding:"8px 12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},itemStyle:{color:"#1F293B",fontSize:"12px",fontWeight:600}})]})}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[(0,t.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:"100%"}),(0,t.jsx)("span",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-wider",children:"Distribution"})]})]}),(0,t.jsx)("div",{className:"mt-6 space-y-3",children:r.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:e.color}}),(0,t.jsx)("span",{className:"text-gray-600 font-medium",children:e.name})]}),(0,t.jsxs)("span",{className:"font-bold text-gray-900",children:[(e.value/a*100).toFixed(0),"%"]})]},r))})]})}var D=e.i(21229),E=e.i(44256),F=e.i(85737);function T({data:e=[]}){let r=Math.max(...e.map(e=>e.value),0),a=e.find(e=>e.value===r);return(0,t.jsxs)("div",{className:"w-full h-full bg-white rounded-2xl p-4 shadow-soft border border-gray-100 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-gray-900 font-bold text-sm",children:"Monthly Activity"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),(0,t.jsx)("span",{className:"w-1 h-1 rounded-full bg-gray-300"})]})]}),(0,t.jsxs)("div",{className:"flex-1 min-h-[140px] relative",children:[a&&r>0&&(0,t.jsxs)("div",{className:"absolute left-[50%] top-0 transform -translate-x-1/2 -translate-y-2 z-10",children:[(0,t.jsx)("div",{className:"bg-[#1E293B] text-white text-[10px] font-bold px-1.5 py-0.5 rounded-md shadow-lg",children:a.value>1e3?`${(a.value/1e3).toFixed(1)}K`:a.value}),(0,t.jsx)("div",{className:"w-0 h-0 border-l-[3px] border-l-transparent border-r-[3px] border-r-transparent border-t-[3px] border-t-[#1E293B] mx-auto"})]}),(0,t.jsx)(A.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(D.BarChart,{data:e,barSize:6,children:[(0,t.jsx)(k.Tooltip,{cursor:{fill:"transparent"},contentStyle:{display:"none"}}),(0,t.jsx)(F.XAxis,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94A3B8",fontSize:9},dy:5}),(0,t.jsx)(E.Bar,{dataKey:"value",radius:[3,3,3,3],children:e.map((e,a)=>(0,t.jsx)(S.Cell,{fill:e.value===r?"#3B82F6":"#E2E8F0"},`cell-${a}`))})]})})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-start gap-2 p-2.5 bg-green-50 rounded-xl border border-green-100",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-green-100 flex items-center justify-center text-green-600 flex-shrink-0 text-xs",children:"ðŸ†"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xs font-bold text-gray-900",children:"Congratulations!"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 mt-0.5",children:"You've hit a new record this month."})]})]})]})}function $({title:e,icon:r,activeCount:a,colorClass:s,onClick:l}){let i={blue:{bg:"bg-blue-50",text:"text-blue-600",hover:"group-hover:bg-blue-100",border:"border-blue-100"},green:{bg:"bg-green-50",text:"text-green-600",hover:"group-hover:bg-green-100",border:"border-green-100"},purple:{bg:"bg-purple-50",text:"text-purple-600",hover:"group-hover:bg-purple-100",border:"border-purple-100"},orange:{bg:"bg-orange-50",text:"text-orange-600",hover:"group-hover:bg-orange-100",border:"border-orange-100"},pink:{bg:"bg-pink-50",text:"text-pink-600",hover:"group-hover:bg-pink-100",border:"border-pink-100"},cyan:{bg:"bg-cyan-50",text:"text-cyan-600",hover:"group-hover:bg-cyan-100",border:"border-cyan-100"}},o=i[s]||i.blue;return(0,t.jsx)("div",{onClick:l,className:"group h-32 w-full perspective-1000 cursor-pointer",children:(0,t.jsxs)("div",{className:"relative h-full w-full transition-all duration-500 transform-style-3d group-hover:rotate-y-180",children:[(0,t.jsxs)("div",{className:`absolute inset-0 w-full h-full backface-hidden rounded-xl shadow-lg bg-white border ${o.border} flex flex-col items-center justify-center p-4 transition-all duration-300 group-hover:shadow-xl`,children:[(0,t.jsx)("div",{className:`p-3 rounded-full ${o.bg} bg-opacity-10 mb-3`,children:(0,t.jsx)(r,{className:`w-8 h-8 ${o.text}`})}),(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-700 text-center",children:e})]}),(0,t.jsxs)("div",{className:"absolute inset-0 w-full h-full backface-hidden rotate-y-180 rounded-xl shadow-lg bg-gradient-to-br from-gray-900 to-gray-800 text-white flex flex-col items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"text-4xl font-bold mb-1",children:a}),(0,t.jsx)("div",{className:"text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Active Policies"})]})]})})}var L=e.i(17163),M=e.i(5814),I=e.i(89494),O=e.i(95257);function z({data:e,allPolicies:a}){let[s,l]=(0,r.useState)("count"),[o,n]=(0,r.useState)("All"),c=(0,r.useMemo)(()=>{let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(e=>({name:e,Active:0,Expiring:0,Expired:0}));return("All"===o?a:a.filter(e=>(e.vehicle_number?"Motor":void 0!==e.no_of_lives?"Health":e.lob_type||"Other")===o)).forEach(t=>{let r=new Date(t.created_at).getMonth(),a=t.status||"Active",l="Active";l="Expiring Soon"===a?"Expiring":"Expired"===a?"Expired":"Active","count"===s?e[r][l]+=1:e[r][l]+=Number(t.premium_amount)||0}),e},[a,s,o]);return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl shadow-soft border border-gray-100 h-full flex flex-col",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Monthly Activity"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Policy status distribution over time"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsxs)("div",{className:"bg-gray-100 p-1 rounded-lg flex text-xs font-medium",children:[(0,t.jsx)("button",{onClick:()=>l("count"),className:`px-3 py-1.5 rounded-md transition-all ${"count"===s?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Count"}),(0,t.jsx)("button",{onClick:()=>l("premium"),className:`px-3 py-1.5 rounded-md transition-all ${"premium"===s?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Premium"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:o,onChange:e=>n(e.target.value),className:"pl-3 pr-8 py-1.5 text-xs font-medium bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 outline-none appearance-none cursor-pointer",children:[(0,t.jsx)("option",{value:"All",children:"All Types"}),(0,t.jsx)("option",{value:"Motor",children:"Motor"}),(0,t.jsx)("option",{value:"Health",children:"Health"}),(0,t.jsx)("option",{value:"Travel",children:"Travel"}),(0,t.jsx)("option",{value:"Commercial",children:"Commercial"}),(0,t.jsx)("option",{value:"Life",children:"Life"}),(0,t.jsx)("option",{value:"Cyber",children:"Cyber"})]}),(0,t.jsx)(O.Filter,{className:"w-3 h-3 text-gray-400 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]})]})]}),(0,t.jsx)("div",{className:"flex-1 min-h-0",children:(0,t.jsx)(A.ResponsiveContainer,{width:"100%",height:"100%",children:(0,t.jsxs)(D.BarChart,{data:c,margin:{top:10,right:10,left:-20,bottom:0},children:[(0,t.jsx)(M.CartesianGrid,{strokeDasharray:"3 3",vertical:!1,stroke:"#f3f4f6"}),(0,t.jsx)(F.XAxis,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:11},dy:10}),(0,t.jsx)(L.YAxis,{axisLine:!1,tickLine:!1,tick:{fill:"#6b7280",fontSize:11},tickFormatter:e=>"premium"===s?`â‚¹${e/1e3}k`:e}),(0,t.jsx)(k.Tooltip,{cursor:{fill:"#f9fafb"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:"12px"},formatter:e=>["premium"===s?(0,i.formatCurrency)(e):e,""]}),(0,t.jsx)(I.Legend,{iconType:"circle",wrapperStyle:{fontSize:"12px",paddingTop:"20px"}}),(0,t.jsx)(E.Bar,{dataKey:"Active",stackId:"a",fill:"#22c55e",radius:[0,0,4,4],barSize:20}),(0,t.jsx)(E.Bar,{dataKey:"Expiring",stackId:"a",fill:"#f97316",radius:[0,0,0,0],barSize:20}),(0,t.jsx)(E.Bar,{dataKey:"Expired",stackId:"a",fill:"#ef4444",radius:[4,4,0,0],barSize:20})]})})})]})}function R({onGetQuote:e}){return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-3xl shadow-card border border-gray-100 h-full flex flex-col justify-between relative overflow-hidden group",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-red-50 flex items-center justify-center text-red-500",children:(0,t.jsx)(x.Shield,{className:"w-5 h-5"})}),(0,t.jsx)("span",{className:"bg-gray-100 text-gray-600 text-[10px] font-bold px-2.5 py-1 rounded-full tracking-wide uppercase",children:"Recommended"})]}),(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Protect your Family"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 leading-relaxed",children:"Get comprehensive health coverage with cashless claims."})]}),(0,t.jsxs)("div",{className:"flex items-end justify-between mt-4",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-xl px-3 py-2",children:[(0,t.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mb-0.5",children:"Starting from"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-gray-900",children:["â‚¹500",(0,t.jsx)("span",{className:"text-sm text-gray-400 font-medium",children:"/mo"})]})]}),(0,t.jsxs)("button",{onClick:e,className:"flex items-center text-primary-600 text-sm font-bold hover:text-primary-700 transition-colors group-hover:translate-x-1 duration-300",children:["Get a Quote",(0,t.jsx)(j.ArrowRight,{className:"w-4 h-4 ml-1.5"})]})]}),(0,t.jsx)("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-red-50 rounded-full opacity-50 blur-2xl group-hover:opacity-100 transition-opacity duration-500"})]})}var H=e.i(97964),B=e.i(37284),U=e.i(3707);function G({isOpen:a,onClose:s}){let[l,i]=(0,r.useState)("last_30_days"),[o,n]=(0,r.useState)("all"),[c,d]=(0,r.useState)("pdf"),[x,m]=(0,r.useState)(!1);if(!a)return null;let u=async()=>{m(!0);try{let t=[["Policy No","Insurer","Type","Premium","Status","Date"],["MOT-123456","HDFC Ergo","Motor","â‚¹12,500","Active","2023-11-15"],["HLT-987654","Star Health","Health","â‚¹25,000","Active","2023-10-01"],["COM-456789","ICICI Lombard","Commercial","â‚¹45,000","Expiring Soon","2023-12-05"]],r=new Date().toISOString().split("T")[0],a=`insurance_report_${r}`;if("pdf"===c){let{default:r}=await e.A(67544),{default:s}=await e.A(2207),l=new r;l.text("Insurance Portfolio Report",14,15),l.text(`Generated on: ${new Date().toLocaleDateString()}`,14,22),s(l,{head:[t[0]],body:t.slice(1),startY:30}),l.save(`${a}.pdf`)}else if("excel"===c){let r=await e.A(12249),s=r.utils.aoa_to_sheet(t),l=r.utils.book_new();r.utils.book_append_sheet(l,s,"Report"),r.writeFile(l,`${a}.xlsx`)}else{let e=t.map(e=>e.join(",")).join("\n"),r=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),l=URL.createObjectURL(r);s.setAttribute("href",l),s.setAttribute("download",`${a}.csv`),document.body.appendChild(s),s.click(),document.body.removeChild(s)}s()}catch(e){console.error("Error generating report:",e)}finally{m(!1)}};return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl transform transition-all",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Generate Report"}),(0,t.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,t.jsx)(H.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-gray-700 block",children:"Date Range"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(B.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"date",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(B.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsx)("input",{type:"date",className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-all"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-gray-700 block",children:"Policy Type"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Filter,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,t.jsxs)("select",{value:o,onChange:e=>n(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none bg-white transition-all",children:[(0,t.jsx)("option",{value:"all",children:"All Policies"}),(0,t.jsx)("option",{value:"motor",children:"Motor Insurance"}),(0,t.jsx)("option",{value:"health",children:"Health Insurance"}),(0,t.jsx)("option",{value:"commercial",children:"Commercial Insurance"}),(0,t.jsx)("option",{value:"life",children:"Life Insurance"}),(0,t.jsx)("option",{value:"travel",children:"Travel Insurance"}),(0,t.jsx)("option",{value:"cyber",children:"Cyber Insurance"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-gray-700 block",children:"Format"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsx)("button",{onClick:()=>d("pdf"),className:`py-2.5 px-4 rounded-xl text-sm font-bold border transition-all ${"pdf"===c?"bg-primary-50 border-primary-200 text-primary-700 ring-2 ring-primary-500 ring-offset-1":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"PDF"}),(0,t.jsx)("button",{onClick:()=>d("excel"),className:`py-2.5 px-4 rounded-xl text-sm font-bold border transition-all ${"excel"===c?"bg-primary-50 border-primary-200 text-primary-700 ring-2 ring-primary-500 ring-offset-1":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"Excel"}),(0,t.jsx)("button",{onClick:()=>d("csv"),className:`py-2.5 px-4 rounded-xl text-sm font-bold border transition-all ${"csv"===c?"bg-primary-50 border-primary-200 text-primary-700 ring-2 ring-primary-500 ring-offset-1":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:"CSV"})]})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 rounded-b-2xl flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:s,className:"px-5 py-2.5 text-sm font-bold text-gray-600 hover:text-gray-800 hover:bg-gray-200 rounded-xl transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:u,disabled:x,className:"px-5 py-2.5 bg-primary-600 hover:bg-primary-700 text-white text-sm font-bold rounded-xl shadow-lg shadow-primary-600/20 transition-all active:scale-95 flex items-center disabled:opacity-70 disabled:cursor-not-allowed",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Generating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.Download,{className:"w-4 h-4 mr-2"}),"Download Report"]})})]})]})})}function V({isOpen:e,onClose:r,title:s,type:l,motorPolicies:i=[],healthPolicies:o,commercialPolicies:n=[],travelPolicies:c=[],lifePolicies:d=[],cyberPolicies:x=[]}){let m=(0,a.useRouter)();if(!e)return null;let u=(e,a)=>{let s="policy_end_date"in e?{start:e.policy_start_date,end:e.policy_end_date}:{start:e.policy_start_date,end:e.expiry_date},l=Number(e.premium_amount),i=e.policy_number;return"Motor"===a?i=e.vehicle_number:"Health"===a?(i=e.company_name,i=e.company_name||"N/A"):"Commercial"===a?i=e.company_name||e.policy_holder_name||"N/A":["Travel","Life","Cyber"].includes(a)&&("Travel"===a&&(i=e.destination||"Travel Policy"),"Life"===a&&(i=e.nominee_name||"Life Policy"),"Cyber"===a&&(i=e.cyber_risk_type||"Cyber Policy")),(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(r(),m.push(`/policies/${a.toLowerCase()}/${t}`))},className:"text-primary-600 hover:text-primary-700 font-semibold hover:underline text-left",children:i})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.policy_number}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.insurer_name}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:a}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:["â‚¹",l.toLocaleString()]}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${"Active"===e.status?"bg-green-100 text-green-700":"Expiring Soon"===e.status?"bg-orange-100 text-orange-700":"Expired"===e.status?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:e.status})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:s.end?new Date(s.end).toLocaleDateString():"N/A"})]},e.id)},p=[...i.map(e=>({...e,policyType:"Motor"})),...o.map(e=>({...e,policyType:"Health"})),...n.map(e=>({...e,policyType:"Commercial"})),...c.map(e=>({...e,policyType:"Travel"})),...d.map(e=>({...e,policyType:"Life"})),...x.map(e=>({...e,policyType:"Cyber"}))],h=p;"expiring"===l?h=p.filter(e=>"Expiring Soon"===e.status):"expired"===l?h=p.filter(e=>"Expired"===e.status):("total"===l||"premium"===l)&&(h=p.filter(e=>"Active"===e.status||"Expiring Soon"===e.status));let g="premium"===l?h.reduce((e,t)=>e+Number(t.premium_amount),0):0;return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-5xl w-full max-h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:s}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[h.length," ",1===h.length?"policy":"policies","premium"===l&&` â€¢ Total: â‚¹${g.toLocaleString()}`]})]}),(0,t.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,t.jsx)(H.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,t.jsxs)("div",{className:"px-6 py-2 bg-gray-50 border-b border-gray-200 flex gap-4 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Active"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Expiring Soon (<20 days)"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-500"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Expired"})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto p-6",children:0===h.length?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No policies found"})}):(0,t.jsx)("div",{className:"border border-gray-200 rounded-xl overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Details"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Policy Number"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Insurer"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Type"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Premium"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"End Date"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-gray-100 bg-white",children:[h.filter(e=>"Motor"===e.policyType).map(e=>u(e,"Motor")),h.filter(e=>"Health"===e.policyType).map(e=>u(e,"Health")),h.filter(e=>"Commercial"===e.policyType).map(e=>u(e,"Commercial")),h.filter(e=>"Travel"===e.policyType).map(e=>u(e,"Travel")),h.filter(e=>"Life"===e.policyType).map(e=>u(e,"Life")),h.filter(e=>"Cyber"===e.policyType).map(e=>u(e,"Cyber"))]})]})})}),(0,t.jsx)("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Click on a policy number to view full details"})})]})})}var X=e.i(72527),Y=e.i(57361);function K({userId:e,className:a=""}){let[s,l]=(0,r.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`relative z-50 flex flex-col items-end ${a}`,children:(0,t.jsxs)("button",{onClick:()=>l(!0),className:"h-10 px-4 rounded-full shadow-lg shadow-primary-500/50 flex items-center justify-center text-white bg-primary-600 transition-all duration-300 hover:scale-105 hover:shadow-primary-500/70 focus:outline-none focus:ring-2 focus:ring-primary-200 animate-pulse-slow",children:[(0,t.jsx)(X.Plus,{className:"w-5 h-5 mr-1"}),(0,t.jsx)("span",{className:"font-semibold text-sm",children:"New"})]})}),s&&(0,t.jsx)(Y.default,{userId:e,onClose:()=>l(!1),onSuccess:()=>{l(!1),window.location.reload()}})]})}var J=e.i(35307);let W=(0,m.default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var Q=e.i(41069);e.i(79650);var q=e.i(47792);async function Z(e,t,r,a,s){try{let l=r.filter(r=>{let a=new Date(r.created_at);return a>=e&&a<=t}),o=new Q.default,n=o.internal.pageSize.getWidth(),c=o.internal.pageSize.getHeight(),d=n-20-20,x=20,m=e=>x+e>c-20&&(o.addPage(),x=20,!0);if(o.setFontSize(18),o.setFont("helvetica","bold"),o.setTextColor(40,40,40),o.text("INSURANCE PORTFOLIO EXPORT REPORT",n/2,x,{align:"center"}),x+=10,o.setFontSize(10),o.setFont("helvetica","normal"),o.setTextColor(100,100,100),o.text(`Report for: ${a}`,n/2,x,{align:"center"}),x+=5,o.text(`Period: ${(0,i.formatDate)(e)} to ${(0,i.formatDate)(t)}`,n/2,x,{align:"center"}),x+=5,o.text(`Generated on: ${new Date().toLocaleDateString()}`,n/2,x,{align:"center"}),x+=12,0===l.length)o.setFontSize(11),o.setTextColor(60,60,60),o.text("No policies found for this date range",n/2,x,{align:"center"});else{let e=l.reduce((e,t)=>{let r=t.vehicle_number?"Motor":void 0!==t.no_of_lives?"Health":t.lob_type||"Other";return e[r]||(e[r]=[]),e[r].push(t),e},{});l.forEach((e,t)=>{let r=e.vehicle_number?"Motor":void 0!==e.no_of_lives?"Health":e.lob_type||"Other",a=e.expiry_date||e.policy_end_date,s=a?(0,i.calculatePolicyStatus)(new Date(a)):"N/A";m(55),o.setFont("helvetica","bold"),o.setFontSize(11),o.setTextColor(40,40,40),o.text(`${r.toUpperCase()} POLICY #${t+1}`,20,x);let l={Active:[34,197,94],"Expiring Soon":[251,191,36],Expired:[239,68,68]}[s]||[100,100,100];o.setTextColor(l[0],l[1],l[2]),o.setFontSize(9),o.text(`â— ${s}`,n-20-30,x,{align:"right"}),x+=6,o.setDrawColor(200,200,200),o.setLineWidth(.2);let c=x-2;o.setFontSize(9),o.setTextColor(60,60,60),o.setFont("helvetica","normal"),o.text(`Policy Number: ${e.policy_number||"N/A"}`,22,x),x+=5,o.text(`Insurer: ${e.insurer_name||"N/A"}`,22,x),x+=6,"Motor"===r?(o.setFont("helvetica","bold"),o.setFontSize(8.5),o.setTextColor(80,80,80),o.text("VEHICLE DETAILS",22,x),x+=4,o.setFont("helvetica","normal"),o.setFontSize(8),o.setTextColor(60,60,60),o.text(`â”œâ”€ Vehicle Number: ${e.vehicle_number||"N/A"}`,24,x),x+=4,o.text(`â”œâ”€ Type: ${e.vehicle_type||"N/A"}`,24,x),x+=4,o.text(`â”œâ”€ Make/Model: ${e.manufacturer||""} ${e.model||""}`.trim()||"N/A",24,x),x+=4,o.text(`â”œâ”€ Fuel Type: ${e.fuel_type||"N/A"}`,24,x),x+=4,o.text(`â”œâ”€ Mfg Year: ${e.manufacturing_year||"N/A"}`,24,x),x+=4,o.text(`â”œâ”€ Plate Type: ${e.number_plate_type||"N/A"}`,24,x),x+=4,o.text(`â””â”€ Ownership: ${e.ownership_type||"N/A"}`,24,x),x+=6,o.setFont("helvetica","bold"),o.setFontSize(8.5),o.text("FINANCIAL",22,x),x+=4,o.setFont("helvetica","normal"),o.setFontSize(8),o.text(`Premium: ${e.premium_amount?(0,i.formatCurrency)(e.premium_amount):"N/A"}`,24,x),x+=6,o.setFont("helvetica","bold"),o.setFontSize(8.5),o.text("COVERAGE PERIOD",22,x),x+=4,o.setFont("helvetica","normal"),o.setFontSize(8),o.text(`â”œâ”€ Start: ${e.policy_start_date?(0,i.formatDate)(new Date(e.policy_start_date)):"N/A"}`,24,x),x+=4,o.text(`â”œâ”€ End: ${e.policy_end_date?(0,i.formatDate)(new Date(e.policy_end_date)):"N/A"}`,24,x)):("Health"===r?(o.setFont("helvetica","bold"),o.setFontSize(8.5),o.text("COVERAGE DETAILS",22,x),x+=4,o.setFont("helvetica","normal"),o.setFontSize(8),e.company_name&&(o.text(`â”œâ”€ Company: ${e.company_name}`,24,x),x+=4),o.text(`â”œâ”€ Sum Insured: ${e.sum_insured?(0,i.formatCurrency)(e.sum_insured):"N/A"}`,24,x),x+=4,o.text(`â””â”€ Lives Covered: ${e.no_of_lives||"N/A"}`,24,x),x+=6,o.setFont("helvetica","bold"),o.setFontSize(8.5),o.text("FINANCIAL",22,x),x+=4,o.setFont("helvetica","normal"),o.setFontSize(8),o.text(`Premium: ${e.premium_amount?(0,i.formatCurrency)(e.premium_amount):"N/A"}`,24,x),x+=6,o.setFont("helvetica","bold"),o.setFontSize(8.5),o.text("POLICY PERIOD",22,x),x+=4,o.setFont("helvetica","normal"),o.setFontSize(8)):(o.setFont("helvetica","bold"),o.setFontSize(8.5),o.text("POLICY DETAILS",22,x),x+=4,o.setFont("helvetica","normal"),o.setFontSize(8),e.lob_type&&(o.text(`â”œâ”€ LOB Type: ${e.lob_type}`,24,x),x+=4),e.company_name&&(o.text(`â”œâ”€ Company: ${e.company_name}`,24,x),x+=4),e.policy_holder_name&&(o.text(`â”œâ”€ Policy Holder: ${e.policy_holder_name}`,24,x),x+=4),o.text(`â”œâ”€ Sum Insured: ${e.sum_insured?(0,i.formatCurrency)(e.sum_insured):"N/A"}`,24,x),x+=4,o.text(`â”œâ”€ Premium: ${e.premium_amount?(0,i.formatCurrency)(e.premium_amount):"N/A"}`,24,x),x+=4),o.text(`â”œâ”€ Expiry: ${a?(0,i.formatDate)(new Date(a)):"N/A"}`,24,x)),x+=4,o.text(`â””â”€ Created: ${(0,i.formatDate)(new Date(e.created_at))}`,24,x);let u=(x+=2)-c;o.rect(20,c,d,u),x+=6}),m(30),x+=4,o.setDrawColor(200,200,200),o.setFillColor(245,245,245),o.rect(20,x,d,25,"FD"),x+=5,o.setFont("helvetica","bold"),o.setFontSize(10),o.setTextColor(40,40,40),o.text("SUMMARY",22,x),x+=6,o.setFont("helvetica","normal"),o.setFontSize(9),o.setTextColor(60,60,60);let t=l.reduce((e,t)=>e+(Number(t.premium_amount)||0),0);o.text(`Total Policies: ${l.length}`,22,x),x+=5;let r=Object.entries(e).map(([e,t])=>`${e}: ${(0,i.formatCurrency)(t.reduce((e,t)=>e+(Number(t.premium_amount)||0),0))} (${t.length} policies)`).join(" | ");o.text(`â”œâ”€ ${r}`,22,x),x+=6,o.setFont("helvetica","bold"),o.text(`Total Premium: ${(0,i.formatCurrency)(t)}`,22,x)}let u=o.internal.pages.length-1;for(let e=1;e<=u;e++)o.setPage(e),o.setFontSize(8),o.setFont("helvetica","normal"),o.setTextColor(150,150,150),o.text(`Page ${e} of ${u}`,n/2,c-10,{align:"center"});o.save(s||`policies_${e.toISOString().split("T")[0]}_to_${t.toISOString().split("T")[0]}.pdf`)}catch(e){throw console.error("Error generating date range PDF:",e),Error("Failed to generate date range PDF")}}function ee(e){return e.map(e=>{let t=e.expiry_date||e.policy_end_date,r=t?(0,i.calculatePolicyStatus)(new Date(t)):"N/A";return e.vehicle_number?{"Policy Number":e.policy_number||"N/A",Status:r,"Insurer Name":e.insurer_name||"N/A","Vehicle Number":e.vehicle_number||"N/A","Vehicle Type":e.vehicle_type||"N/A",Manufacturer:e.manufacturer||"N/A",Model:e.model||"N/A","Fuel Type":e.fuel_type||"N/A","Mfg Year":e.manufacturing_year||"N/A","Plate Type":e.number_plate_type||"N/A",Ownership:e.ownership_type||"N/A",Premium:e.premium_amount?(0,i.formatCurrency)(e.premium_amount):"N/A","Start Date":e.policy_start_date?(0,i.formatDate)(new Date(e.policy_start_date)):"N/A","End Date":e.policy_end_date?(0,i.formatDate)(new Date(e.policy_end_date)):"N/A","Created On":e.created_at?(0,i.formatDate)(new Date(e.created_at)):"N/A"}:void 0!==e.no_of_lives||void 0!==e.sum_insured?{"Policy Number":e.policy_number||"N/A",Status:r,"Insurer Name":e.insurer_name||"N/A","Company Name":e.company_name||"N/A","Sum Insured":e.sum_insured?(0,i.formatCurrency)(e.sum_insured):"N/A","No. of Lives":e.no_of_lives||"N/A",Premium:e.premium_amount?(0,i.formatCurrency)(e.premium_amount):"N/A","Expiry Date":t?(0,i.formatDate)(new Date(t)):"N/A","Created On":e.created_at?(0,i.formatDate)(new Date(e.created_at)):"N/A"}:e.lob_type&&["GPA","Fire","Other"].includes(e.lob_type)?{"Policy Number":e.policy_number||"N/A",Status:r,"LOB Type":e.lob_type||"N/A","Insurer Name":e.insurer_name||"N/A","Company Name":e.company_name||"N/A","Policy Holder":e.policy_holder_name||"N/A","Sum Insured":e.sum_insured?(0,i.formatCurrency)(e.sum_insured):"N/A",Premium:e.premium_amount?(0,i.formatCurrency)(e.premium_amount):"N/A","Expiry Date":t?(0,i.formatDate)(new Date(t)):"N/A","Created On":e.created_at?(0,i.formatDate)(new Date(e.created_at)):"N/A"}:{"Policy Number":e.policy_number||"N/A",Status:r,Type:e.lob_type||"N/A","Insurer Name":e.insurer_name||"N/A","Sum Insured":e.sum_insured?(0,i.formatCurrency)(e.sum_insured):"N/A",Premium:e.premium_amount?(0,i.formatCurrency)(e.premium_amount):"N/A","Expiry Date":t?(0,i.formatDate)(new Date(t)):"N/A","Created On":e.created_at?(0,i.formatDate)(new Date(e.created_at)):"N/A"}})}function et({onExportDashboard:e,motorPolicies:a,healthPolicies:s,commercialPolicies:l,travelPolicies:i,lifePolicies:m,cyberPolicies:p,userName:h}){let[g,y]=(0,r.useState)(!1),[b,f]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),[N,w]=(0,r.useState)([]),[_,C]=(0,r.useState)(["Active","Expiring Soon","Expired"]),[S,A]=(0,r.useState)(""),[k,P]=(0,r.useState)(""),[D,E]=(0,r.useState)("PDF");(0,r.useEffect)(()=>{let e=new Date,t=new Date;t.setMonth(t.getMonth()-1),P(e.toISOString().split("T")[0]),A(t.toISOString().split("T")[0])},[]);let F=async()=>{try{f(!0);let e=[],t=N.length>0?N:["Motor","Health","Travel","Commercial","Life","Cyber"];t.includes("Motor")&&(e=[...e,...a]),t.includes("Health")&&(e=[...e,...s]),t.includes("Travel")&&(e=[...e,...i]),t.includes("Commercial")&&(e=[...e,...l]),t.includes("Life")&&(e=[...e,...m]),t.includes("Cyber")&&(e=[...e,...p]);let r=new Date(S),o=new Date(k);o.setHours(23,59,59,999),e=e.filter(e=>{let t=new Date(e.created_at),a=e.status||"Active",s=t>=r&&t<=o,l=0===_.length||_.includes(a);return s&&l});let n=`${S}_to_${k}`,c="All_Policies";N.length>0&&(c=1===N.length?`${N[0]}_Policies`:"Mixed_Policies");let d=`${c}_${n}`;"PDF"===D?await Z(r,o,e,h,`${d}.pdf`):"XLS"===D?function(e,t){try{console.log("Exporting to XLS with filename:",t);let r=ee(e),a=q.utils.json_to_sheet(r),s=q.utils.book_new();q.utils.book_append_sheet(s,a,"Policies");let l=q.write(s,{bookType:"xlsx",type:"array"}),i=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),o=document.createElement("a"),n=URL.createObjectURL(i);o.setAttribute("href",n),o.setAttribute("download",`${t}.xlsx`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),console.log("XLS download triggered")}catch(e){throw console.error("Error exporting to Excel:",e),Error("Failed to export to Excel")}}(e,d):"CSV"===D&&function(e,t){try{console.log("Exporting to CSV with filename:",t);let r=ee(e),a=q.utils.json_to_sheet(r),s=q.utils.sheet_to_csv(a),l=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),o=URL.createObjectURL(l);i.setAttribute("href",o),i.setAttribute("download",`${t}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i),console.log("CSV download triggered")}catch(e){throw console.error("Error exporting to CSV:",e),Error("Failed to export to CSV")}}(e,d),v(!0),setTimeout(()=>{v(!1),y(!1)},2e3)}catch(e){console.error("Export failed:",e),alert("Failed to export data. Please try again.")}finally{f(!1)}},T=[{type:"Motor",icon:o.Car,count:a.length},{type:"Health",icon:n.Heart,count:s.length},{type:"Travel",icon:d.Plane,count:i.length},{type:"Commercial",icon:c.Briefcase,count:l.length},{type:"Life",icon:u,count:m.length},{type:"Cyber",icon:x.Shield,count:p.length}];return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>y(!g),className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-xl shadow-sm hover:shadow-md transition-all text-gray-700 font-semibold",children:[(0,t.jsx)(U.Download,{className:"w-5 h-5 mr-2"}),"Export"]}),g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:()=>y(!1)}),(0,t.jsxs)("div",{className:"absolute right-0 top-full mt-2 w-[480px] bg-white rounded-2xl shadow-2xl border border-gray-200 z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200 origin-top-right",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:"Export Data"}),(0,t.jsx)("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)(H.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Policy Type"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3",children:T.map(e=>{let r=N.includes(e.type);return(0,t.jsxs)("button",{onClick:()=>{var t;return t=e.type,void(N.includes(t)?w(N.filter(e=>e!==t)):w([...N,t]))},className:`flex flex-col items-center justify-center p-3 rounded-xl border transition-all ${r?"border-primary-600 bg-primary-50 text-primary-700 ring-1 ring-primary-600":"border-gray-200 hover:border-gray-300 hover:bg-gray-50 text-gray-600"}`,children:[(0,t.jsx)(e.icon,{className:`w-6 h-6 mb-2 ${r?"text-primary-600":"text-gray-500"}`}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.type}),(0,t.jsx)("span",{className:"text-xs text-gray-400",children:e.count})]},e.type)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Date Range"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),(0,t.jsx)("input",{type:"date",value:S,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),(0,t.jsx)("input",{type:"date",value:k,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Status"}),(0,t.jsx)("div",{className:"flex space-x-4",children:["Active","Expiring Soon","Expired"].map(e=>(0,t.jsxs)("label",{className:"flex items-center cursor-pointer group",children:[(0,t.jsx)("input",{type:"checkbox",checked:_.includes(e),onChange:()=>{_.includes(e)?C(_.filter(t=>t!==e)):C([..._,e])},className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700 group-hover:text-gray-900",children:e})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Format"}),(0,t.jsx)("div",{className:"flex space-x-4",children:["PDF","XLS","CSV"].map(e=>(0,t.jsxs)("label",{className:"flex items-center cursor-pointer group",children:[(0,t.jsx)("input",{type:"radio",name:"format",value:e,checked:D===e,onChange:()=>E(e),className:"w-4 h-4 text-primary-600 border-gray-300 focus:ring-primary-500"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700 group-hover:text-gray-900",children:e})]},e))})]})]}),(0,t.jsxs)("div",{className:"p-6 border-t border-gray-100 bg-gray-50 flex justify-between items-center",children:[(0,t.jsx)("button",{onClick:()=>{w([]);let e=new Date,t=new Date;t.setMonth(t.getMonth()-1),P(e.toISOString().split("T")[0]),A(t.toISOString().split("T")[0])},className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:"Clear all"}),(0,t.jsx)("button",{onClick:F,disabled:b,className:"px-6 py-2.5 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-semibold shadow-sm hover:shadow transition-all flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(J.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Exporting..."]}):(0,t.jsx)(t.Fragment,{children:"Export"})})]})]})]}),j&&(0,t.jsxs)("div",{className:"absolute top-full right-0 mt-4 px-4 py-3 bg-green-50 text-green-700 border border-green-200 rounded-xl shadow-lg flex items-center animate-in slide-in-from-top-2 fade-in z-50 whitespace-nowrap",children:[(0,t.jsx)(W,{className:"w-5 h-5 mr-2"}),(0,t.jsx)("span",{className:"font-medium",children:"Export successful!"})]})]})}var er=e.i(28228),ea=e.i(20925);function es({policyType:e,motorPolicies:r,healthPolicies:s,commercialPolicies:l,onClose:d}){let x=(0,a.useRouter)(),m=(()=>{switch(e){case"Motor":return r.map(e=>({...e,type:"Motor"}));case"Health":return s.map(e=>({...e,type:"Health"}));case"Commercial":return l.map(e=>({...e,type:"Commercial"}));default:return[]}})(),u=()=>{switch(e){case"Motor":return(0,t.jsx)(o.Car,{className:"w-5 h-5 text-blue-600"});case"Health":return(0,t.jsx)(n.Heart,{className:"w-5 h-5 text-green-600"});case"Commercial":return(0,t.jsx)(c.Briefcase,{className:"w-5 h-5 text-orange-600"});default:return null}};return(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-soft overflow-hidden",children:[(0,t.jsxs)("div",{className:`px-6 py-4 border-b ${(()=>{switch(e){case"Motor":return"bg-blue-50 border-blue-200";case"Health":return"bg-green-50 border-green-200";case"Commercial":return"bg-orange-50 border-orange-200";default:return"bg-gray-50 border-gray-200"}})()} flex items-center justify-between`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:u()}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-gray-900",children:[e," Policies"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[m.length," ",1===m.length?"policy":"policies"," found"]})]})]}),(0,t.jsx)("button",{onClick:d,className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Close table",children:(0,t.jsx)(H.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:0===m.length?(0,t.jsxs)("div",{className:"text-center py-12 px-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u()||(0,t.jsx)(c.Briefcase,{className:"w-8 h-8 text-gray-400"})}),(0,t.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:["No ",e," Policies Found"]}),(0,t.jsxs)("p",{className:"text-gray-500",children:["You don't have any ",e.toLowerCase()," policies yet."]})]}):(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Policy Number"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Insurer Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Premium Amount"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Start Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"End Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(r=>{let a="Motor"===r.type,s=(r.type,new Date(a?r.policy_start_date:r.start_date)),l=new Date(a?r.policy_end_date:r.expiry_date),o=(0,i.calculatePolicyStatus)(l);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:r.policy_number})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"text-sm text-gray-900",children:r.insurer_name})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:(0,i.formatCurrency)(r.premium_amount)})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"text-sm text-gray-600",children:s.toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"text-sm text-gray-600",children:l.toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${"Active"===o?"bg-green-100 text-green-800":"Expiring Soon"===o?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:o})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("button",{onClick:()=>{let t;return t=e.toLowerCase(),void x.push(`/policies/${t}/${r.id}`)},className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-primary-600 text-white text-sm font-medium rounded-lg hover:bg-primary-700 transition-colors",children:[(0,t.jsx)(ea.Eye,{className:"w-4 h-4"}),"View Details"]})})]},r.id)})})]})})]})}function el(){let e=(0,a.useRouter)(),[m,b]=(0,r.useState)(null),[f,j]=(0,r.useState)(!0),[N,_]=(0,r.useState)(null),[C,S]=(0,r.useState)([]),[A,k]=(0,r.useState)([]),[D,E]=(0,r.useState)(!1),[F,L]=(0,r.useState)(!1),[M,I]=(0,r.useState)("total"),[O,H]=(0,r.useState)(""),[B,U]=(0,r.useState)("total"),[X,Y]=(0,r.useState)(!1),[J,W]=(0,r.useState)([]),[Q,q]=(0,r.useState)([]),[Z,ee]=(0,r.useState)([]),[ea,el]=(0,r.useState)([]),[ei,eo]=(0,r.useState)([]),[en,ec]=(0,r.useState)([]),[ed,ex]=(0,r.useState)({motor:0,health:0,commercial:0}),[em,eu]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let t=await (0,s.getCurrentUser)();if(!t)return void e.push("/login");b(t),await ep(t.id)}catch(e){console.error("[Dashboard] Error loading dashboard:",e)}finally{j(!1)}})()},[e]);let ep=async e=>{try{let[t,r,a,s,o,n,c,d]=await Promise.all([(0,l.getUserMotorPolicies)(e),(0,l.getUserHealthPolicies)(e),(0,l.getUserCommercialPolicies)(e),(0,l.getUserTravelPolicies)(e),(0,l.getUserLifePolicies)(e),(0,l.getUserCyberPolicies)(e),(0,l.getUserClaims)(e),(0,l.getUserReferrals)(e)]),x=e=>{let t=new Date("policy_end_date"in e?e.policy_end_date:e.expiry_date),r=(0,i.calculatePolicyStatus)(t);return{...e,status:r}},m=t.map(x),u=r.map(x),p=a.map(x),h=s.map(x),g=o.map(x),y=n.map(x);W(m),q(u),ee(p),el(h),eo(g),ec(y),S(c),k(d);let b=[...t,...r,...a,...s,...o,...n].filter(e=>{let t=new Date("policy_end_date"in e?e.policy_end_date:e.expiry_date);return"Active"===(0,i.calculatePolicyStatus)(t)||"Expiring Soon"===(0,i.calculatePolicyStatus)(t)}),f=b.length,j=b.reduce((e,t)=>e+(Number(t.premium_amount)||0),0),v=[...m,...u,...p,...h,...g,...y].filter(e=>"Expiring Soon"===e.status).length,N=[...m,...u,...p,...h,...g,...y].filter(e=>"Expired"===e.status).length,w=t.reduce((e,t)=>e+Number(t.premium_amount),0),C=r.reduce((e,t)=>e+Number(t.premium_amount),0),A=s.reduce((e,t)=>e+Number(t.premium_amount),0),P=o.reduce((e,t)=>e+Number(t.premium_amount),0),D=n.reduce((e,t)=>e+Number(t.premium_amount),0),E=a.filter(e=>"GPA"===e.lob_type),F=a.filter(e=>"Fire"===e.lob_type),T=a.filter(e=>"Other"===e.lob_type),$=E.reduce((e,t)=>e+Number(t.premium_amount),0),L=F.reduce((e,t)=>e+Number(t.premium_amount),0),M=T.reduce((e,t)=>e+Number(t.premium_amount),0)+A+P+D,I=[...m,...u,...p,...h,...g,...y];I.filter(e=>"Expiring Soon"===e.status).length;let O=Array(12).fill(0),z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];I.forEach(e=>{let t=new Date(e.created_at).getMonth();O[t]+=Number(e.premium_amount)});let R=z.map((e,t)=>({name:e,value:O[t]})),H=Array(12).fill(0);I.forEach(e=>{let t=new Date(e.created_at);H[t.getMonth()]++}),c.forEach(e=>{let t=new Date(e.created_at);H[t.getMonth()]++});let B=z.map((e,t)=>({name:(t+1).toString(),value:H[t]}));_({total_policies:f,total_premium:j,expiring_soon_count:v,expired_count:N,portfolio_by_lob:{motor:w,health:C,gpa:$,fire:L,others:M},areaChartData:R,barChartData:B})}catch(e){console.error("Error loading dashboard data:",e)}},[eh,eg]=(0,r.useState)("");if((0,r.useEffect)(()=>{let e=new Date().getHours();e<12?eg("Good Morning"):e<18?eg("Good Afternoon"):eg("Good Evening")},[]),f||!m||!N)return(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})});let ey=C.filter(e=>"New"===e.status||"In Progress"===e.status).length,eb=C.filter(e=>"Settled"===e.status).length,ef=C.filter(e=>"Rejected"===e.status).length;return(0,t.jsxs)("div",{id:"dashboard-content",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-end items-center mb-6 space-x-3",children:[(0,t.jsx)(et,{onExportDashboard:()=>{},motorPolicies:J,healthPolicies:Q,commercialPolicies:Z,travelPolicies:ea,lifePolicies:ei,cyberPolicies:en,userName:m?.name||"User"}),(0,t.jsx)(K,{userId:m.id,className:"relative !fixed-none !top-auto !right-auto"})]}),(0,t.jsx)(G,{isOpen:D,onClose:()=>E(!1)}),(0,t.jsx)(V,{isOpen:F,onClose:()=>L(!1),title:O,type:M,motorPolicies:J,healthPolicies:Q,commercialPolicies:Z,travelPolicies:ea,lifePolicies:ei,cyberPolicies:en}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{onClick:()=>{I("total"),H("All Policies"),L(!0)},className:"bg-white rounded-2xl p-6 shadow-soft hover:shadow-lg transition-all cursor-pointer border border-transparent hover:border-primary-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 font-semibold mb-1",children:"Total Active Policies"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:N?N.total_policies:0}),(0,t.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"Click to view details"})]}),(0,t.jsx)("div",{className:"p-3 bg-blue-50 rounded-xl",children:(0,t.jsx)(p.FileText,{className:"w-6 h-6 text-blue-600"})})]})}),(0,t.jsx)("div",{onClick:()=>{I("premium"),H("Premium Breakdown"),L(!0)},className:"bg-white rounded-2xl p-6 shadow-soft hover:shadow-lg transition-all cursor-pointer border border-transparent hover:border-primary-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 font-semibold mb-1",children:"Total Active Premium"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:N?(0,i.formatCurrency)(N.total_premium):"â‚¹0"}),(0,t.jsx)("p",{className:"text-xs text-green-600 mt-2",children:"Click to view breakdown"})]}),(0,t.jsx)("div",{className:"p-3 bg-green-50 rounded-xl",children:(0,t.jsx)(h.TrendingUp,{className:"w-6 h-6 text-green-600"})})]})}),(0,t.jsx)("div",{onClick:()=>{I("expiring"),H("Expiring Soon"),L(!0)},className:"bg-white rounded-2xl p-6 shadow-soft hover:shadow-lg transition-all cursor-pointer border border-transparent hover:border-primary-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 font-semibold mb-1",children:"Expiring Soon"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:N?N.expiring_soon_count:0}),(0,t.jsx)("p",{className:"text-xs text-orange-600 mt-2",children:"Click to view policies"})]}),(0,t.jsx)("div",{className:"p-3 bg-orange-50 rounded-xl",children:(0,t.jsx)(g.AlertCircle,{className:"w-6 h-6 text-orange-600"})})]})}),(0,t.jsx)("div",{onClick:()=>{I("expired"),H("Expired Policies"),L(!0)},className:"bg-white rounded-2xl p-6 shadow-soft hover:shadow-lg transition-all cursor-pointer border border-transparent hover:border-primary-200",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 font-semibold mb-1",children:"Expired Policies"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:N&&N.expired_count||0}),(0,t.jsx)("p",{className:"text-xs text-red-600 mt-2",children:"Click to view policies"})]}),(0,t.jsx)("div",{className:"p-3 bg-red-50 rounded-xl",children:(0,t.jsx)(y.XCircle,{className:"w-6 h-6 text-red-600"})})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Access"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[(0,t.jsx)($,{title:"Motor",icon:o.Car,activeCount:J.filter(e=>"Active"===e.status).length,colorClass:"blue",onClick:()=>eu("Motor")}),(0,t.jsx)($,{title:"Health",icon:n.Heart,activeCount:Q.filter(e=>"Active"===e.status).length,colorClass:"green",onClick:()=>eu("Health")}),(0,t.jsx)($,{title:"Travel",icon:d.Plane,activeCount:ea.filter(e=>"Active"===e.status).length,colorClass:"purple",onClick:()=>eu("Travel")}),(0,t.jsx)($,{title:"Commercial",icon:c.Briefcase,activeCount:Z.filter(e=>"Active"===e.status).length,colorClass:"orange",onClick:()=>eu("Commercial")}),(0,t.jsx)($,{title:"Life",icon:u,activeCount:ei.filter(e=>"Active"===e.status).length,colorClass:"pink",onClick:()=>eu("Life")}),(0,t.jsx)($,{title:"Cyber",icon:x.Shield,activeCount:en.filter(e=>"Active"===e.status).length,colorClass:"cyan",onClick:()=>eu("Cyber")})]})]}),em&&(0,t.jsx)(es,{policyType:em,motorPolicies:J,healthPolicies:Q,commercialPolicies:Z,onClose:()=>eu(null)}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-4 md:gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-4 md:space-y-6",children:[(0,t.jsx)("div",{className:"h-[400px]",children:(0,t.jsx)(z,{data:N.areaChartData,allPolicies:[...J,...Q,...Z,...ea,...ei,...en]})}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 h-[320px]",children:[(0,t.jsx)(v,{activeCount:ey,settledCount:eb,rejectedCount:ef}),(0,t.jsx)("div",{className:"h-full",children:(0,t.jsx)(T,{data:N.barChartData})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"h-[400px]",children:(0,t.jsx)(P,{data:N.portfolio_by_lob})}),(0,t.jsx)("div",{className:"h-[320px]",children:(0,t.jsx)(R,{onGetQuote:()=>Y(!0)})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Exclusive Offers & Rewards"}),(0,t.jsx)("div",{className:"grid md:grid-cols-3 gap-4"})]}),(0,t.jsx)("div",{children:(0,t.jsx)(w,{})}),(0,t.jsx)(er.default,{isOpen:X,onClose:()=>Y(!1),userId:m.id,initialType:"Health",onSuccess:()=>{Y(!1),window.location.reload()}})]})}e.s(["default",()=>el],16837)}]);