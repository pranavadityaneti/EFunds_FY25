module.exports=[89589,(a,b,c)=>{"use strict";b.exports=a.r(96853).vendored.contexts.HooksClientContext},15294,(a,b,c)=>{"use strict";b.exports=a.r(96853).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},96853,(a,b,c)=>{"use strict";b.exports=a.r(18622)},72440,(a,b,c)=>{"use strict";b.exports=a.r(96853).vendored["react-ssr"].ReactJsxRuntime},29916,(a,b,c)=>{"use strict";b.exports=a.r(96853).vendored["react-ssr"].React},16918,(a,b,c)=>{"use strict";b.exports=a.r(96853).vendored.contexts.AppRouterContext},64129,(a,b,c)=>{"use strict";b.exports=a.r(96853).vendored["react-ssr"].ReactServerDOMTurbopackClient},67665,a=>{"use strict";let b=(0,a.i(42077).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],67665)},61124,a=>{"use strict";let b=(0,a.i(42077).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],61124)},81258,a=>{"use strict";let b=(0,a.i(42077).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],81258)},77480,a=>{"use strict";let b=(0,a.i(42077).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],77480)},59322,a=>{"use strict";let b=(0,a.i(42077).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],59322)},34813,a=>{"use strict";let b=(0,a.i(42077).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],34813)},42077,a=>{"use strict";var b=a.i(29916);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],42077)},15059,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},57807,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},93647,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},8490,a=>{"use strict";var b=a.i(93022);async function c(a,c,d,e,f,g){try{let{data:h,error:i}=await b.supabase.auth.signUp({email:a,password:c});if(i)throw i;if(!h.user)throw Error("No user returned from signup");let j="1SV-"+Math.random().toString(36).substring(2,8).toUpperCase(),k={id:h.user.id,email:a,mobile:e,name:d,company_name:"corporate_employee"===f||"corporate_admin"===f?g:void 0,role:f,customer_id:j},l=3;for(;l>0;)try{await new Promise(a=>setTimeout(a,1e3));let{error:c}=await b.supabase.from("users").insert({id:h.user.id,email:k.email,mobile:k.mobile,name:k.name,company_name:k.company_name,role:k.role,customer_id:k.customer_id});if(c){if("23503"===c.code)throw c;if("23505"===c.code){console.log("User profile already exists, checking for orphan...");let{data:c,error:d}=await b.supabase.from("users").select("*").eq("email",a).maybeSingle();if(!d&&c){if(c.id===h.user.id)return{...c,created_at:new Date(c.created_at),updated_at:new Date(c.updated_at)};console.log("Found orphaned profile. Linking to new Auth ID...");let{error:d}=await b.supabase.from("users").update({id:h.user.id,updated_at:new Date().toISOString()}).eq("email",a);if(d)throw console.error("Failed to link orphaned profile:",d),d;return{...c,id:h.user.id,created_at:new Date(c.created_at),updated_at:new Date}}}throw c}break}catch(a){if(l--,0===l)throw console.error("Failed to create user profile after retries:",a),Error("Failed to create user profile. Please try again.");console.log(`Retrying user profile creation... (${l} attempts left)`)}return{...k,created_at:new Date,updated_at:new Date}}catch(a){throw console.error("Signup error:",a),Error(a.message||"Failed to sign up")}}async function d(a){try{let{error:c}=await b.supabase.auth.resetPasswordForEmail(a,{redirectTo:"http://localhost:3000/update-password"});if(c)throw c}catch(a){throw console.error("Reset password error:",a),Error(a.message||"Failed to send reset password email")}}async function e(a,c){try{let{data:d,error:e}=await b.supabase.auth.signInWithPassword({email:a,password:c});if(e)throw e;if(!d.user)throw Error("No user returned from sign in");let{data:f,error:g}=await b.supabase.from("users").select("*").eq("id",d.user.id).maybeSingle();if(g)throw g;if(!f)throw Error("User profile not found. Please contact support.");return{id:f.id,email:f.email,mobile:f.mobile,name:f.name,company_name:f.company_name,role:f.role,created_at:new Date(f.created_at),updated_at:new Date(f.updated_at),rm_id:f.rm_id,customer_id:f.customer_id}}catch(a){throw console.error("Sign in error:",a),Error(a.message||"Failed to sign in")}}async function f(){try{let{error:a}=await b.supabase.auth.signOut();if(a)throw a}catch(a){throw console.error("Sign out error:",a),Error(a.message||"Failed to sign out")}}async function g(){try{let{data:{user:a}}=await b.supabase.auth.getUser();if(!a)return null;let{data:c,error:d}=await b.supabase.from("users").select("*").eq("id",a.id).maybeSingle();if(d)return console.error("Error fetching user data:",d),null;if(!c)return console.warn("User authenticated but no profile found"),null;return{id:c.id,email:c.email,mobile:c.mobile,name:c.name,company_name:c.company_name,role:c.role,created_at:new Date(c.created_at),updated_at:new Date(c.updated_at),rm_id:c.rm_id,customer_id:c.customer_id}}catch(a){return console.error("Error getting current user:",a),null}}function h(a){return b.supabase.auth.onAuthStateChange(async(b,c)=>{c?.user?a(await g()):a(null)})}a.s(["getCurrentUser",()=>g,"onAuthStateChange",()=>h,"resetPassword",()=>d,"signIn",()=>e,"signOut",()=>f,"signUp",()=>c])},3045,a=>{"use strict";function b(a,c=15){let d=new Date,e=Math.ceil((a.getTime()-d.getTime())/864e5);return e<0?"Expired":e<=c?"Expiring Soon":"Active"}function c(a,b="â‚¹"){return`${b}${a.toLocaleString("en-IN",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function d(a){return a.toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}function e(...a){return a.filter(Boolean).join(" ")}a.s(["calculatePolicyStatus",()=>b,"cn",()=>e,"formatCurrency",()=>c,"formatDate",()=>d])},1400,a=>{"use strict";let b=(0,a.i(42077).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>b],1400)},73363,a=>{"use strict";let b=(0,a.i(42077).default)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);a.s(["FolderOpen",()=>b],73363)},17659,a=>{"use strict";let b=(0,a.i(42077).default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);a.s(["History",()=>b],17659)},42537,a=>{"use strict";let b=(0,a.i(42077).default)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);a.s(["Building2",()=>b],42537)},93261,a=>{"use strict";let b=(0,a.i(42077).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],93261)},10992,15363,a=>{"use strict";var b=a.i(42077);let c=(0,b.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);a.s(["LayoutDashboard",()=>c],10992);let d=(0,b.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);a.s(["LogOut",()=>d],15363)},90486,a=>{"use strict";let b=(0,a.i(42077).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],90486)},7509,a=>{"use strict";let b=(0,a.i(42077).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);a.s(["Heart",()=>b],7509)},47149,a=>{"use strict";let b=(0,a.i(42077).default)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);a.s(["Car",()=>b],47149)},60775,a=>{"use strict";let b=(0,a.i(42077).default)("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);a.s(["Plane",()=>b],60775)},38491,a=>{a.v(a=>Promise.resolve().then(()=>a(90497)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__602d4103._.js.map