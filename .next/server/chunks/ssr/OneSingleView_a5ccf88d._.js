module.exports=[93049,a=>{"use strict";let b=(0,a.i(42077).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],93049)},59322,a=>{"use strict";let b=(0,a.i(42077).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],59322)},34813,a=>{"use strict";let b=(0,a.i(42077).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],34813)},31468,a=>{"use strict";let b=(0,a.i(42077).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],31468)},23722,a=>{"use strict";let b=(0,a.i(42077).default)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);a.s(["Building",()=>b],23722)},25115,a=>{"use strict";var b=a.i(72440),c=a.i(29916),d=a.i(96968),e=a.i(59322),f=a.i(34813),g=a.i(23722),h=a.i(93049),i=a.i(31468),j=a.i(90497);function k(){let a=(0,d.useParams)(),k=(0,d.useRouter)(),l=a.id,[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)("overview");(0,c.useEffect)(()=>{l&&w()},[l]);let w=async()=>{try{let[a,b,c,d,e]=await Promise.all([(0,j.getUserById)(l),(0,j.getUserMotorPolicies)(l),(0,j.getUserHealthPolicies)(l),(0,j.getUserCommercialPolicies)(l),(0,j.getUserAuditLogs)(l)]);n(a);let f=[...b.map(a=>({...a,type:"Motor"})),...c.map(a=>({...a,type:"Health"})),...d.map(a=>({...a,type:"Commercial"}))].sort((a,b)=>new Date(b.created_at).getTime()-new Date(a.created_at).getTime());r(f),t(e)}catch(a){console.error("Failed to load user data:",a)}finally{p(!1)}};return o?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):m?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>k.back(),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,b.jsx)(i.ArrowLeft,{className:"w-5 h-5 text-gray-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:m.name}),(0,b.jsxs)("div",{className:"flex items-center text-sm text-gray-500 gap-2",children:[(0,b.jsx)("span",{className:"font-mono bg-gray-100 px-2 py-0.5 rounded text-gray-700",children:m.customer_id||"ID: N/A"}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{className:"capitalize",children:[m.role," Account"]})]})]})]}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center text-blue-600",children:(0,b.jsx)(e.Mail,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Email"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:m.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center text-green-600",children:(0,b.jsx)(f.Phone,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Mobile"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:m.mobile})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-purple-50 rounded-lg flex items-center justify-center text-purple-600",children:(0,b.jsx)(g.Building,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Company"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:m.company_name||"N/A"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-orange-50 rounded-lg flex items-center justify-center text-orange-600",children:(0,b.jsx)(h.Calendar,{className:"w-5 h-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold",children:"Joined"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:new Date(m.created_at).toLocaleDateString()})]})]})]})}),(0,b.jsx)("div",{className:"border-b border-gray-200",children:(0,b.jsx)("nav",{className:"-mb-px flex space-x-8",children:["overview","policies","activity"].map(a=>(0,b.jsx)("button",{onClick:()=>v(a),className:`
                                whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm capitalize
                                ${u===a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                            `,children:a},a))})}),(0,b.jsxs)("div",{className:"min-h-[300px]",children:["overview"===u&&(0,b.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 mb-4",children:"Portfolio Summary"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Total Policies"}),(0,b.jsx)("span",{className:"font-bold text-xl",children:q.length})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Active Claims"}),(0,b.jsx)("span",{className:"font-bold text-xl text-orange-600",children:"0"})]})]})]})}),"policies"===u&&(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Policy No"}),(0,b.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Type"}),(0,b.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Insurer"}),(0,b.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Expiry"}),(0,b.jsx)("th",{className:"px-6 py-3 text-xs font-bold text-gray-500 uppercase",children:"Status"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[q.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-6 py-4 font-mono text-sm",children:a.policy_number}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.type}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.insurer_name}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:new Date(a.expiry_date||a.policy_end_date).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"})})]},a.id)),0===q.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No policies found for this user."})})]})]})}),"activity"===u&&(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,b.jsx)("div",{className:"space-y-6",children:s.length>0?s.map(a=>(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0 mt-1",children:(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300 ring-4 ring-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.action.replace("_"," ")}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:new Date(a.created_at).toLocaleString()})]})]},a.id)):(0,b.jsx)("div",{className:"text-center text-gray-500 py-8",children:"No activity logs found."})})})]})]}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"User not found"}),(0,b.jsx)("button",{onClick:()=>k.back(),className:"mt-4 text-primary-600 hover:underline",children:"Go back"})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=OneSingleView_a5ccf88d._.js.map