module.exports=[24982,a=>{"use strict";var b=a.i(72440),c=a.i(29916),d=a.i(59204),e=a.i(14505),f=a.i(74210),g=a.i(1181),h=a.i(20219),i=a.i(90497),j=a.i(69820),k=a.i(42109);function l({userId:a,initialData:l,onClose:m,onSuccess:n}){let[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)({}),[s,t]=(0,c.useState)({vehicle_number:l?.vehicle_number||"",policy_number:l?.policy_number||"",vehicle_type:l?.vehicle_type||"Car",manufacturer:l?.manufacturer||"",model:l?.model||"",fuel_type:l?.fuel_type||"Petrol",manufacturing_year:l?.manufacturing_year||new Date().getFullYear(),number_plate_type:l?.number_plate_type||"White",ownership_type:l?.ownership_type||"Individual",insurer_name:l?.insurer_name||"",premium_amount:l?.premium_amount||0,policy_start_date:l?.policy_start_date?new Date(l.policy_start_date):new Date,policy_end_date:new Date(l?.policy_end_date?l.policy_end_date:new Date().setFullYear(new Date().getFullYear()+1)),rc_docs:l?.rc_docs||[],previous_policy_docs:l?.previous_policy_docs||[],dl_docs:l?.dl_docs||[]});(0,c.useEffect)(()=>{if(s.policy_start_date&&!l){let a=new Date(new Date(s.policy_start_date));a.setFullYear(a.getFullYear()+1),a.setDate(a.getDate()-1),t(b=>({...b,policy_end_date:a}))}},[s.policy_start_date,l]);let u=a=>{let{name:b,value:c,type:d}=a.target;t(a=>({...a,[b]:"number"===d?Number(c):c})),q[b]&&r(a=>{let c={...a};return delete c[b],c})},v=a=>{let{name:b,value:c}=a.target;t(a=>({...a,[b]:new Date(c)}))},w=async b=>{let c;if(b.preventDefault(),c={},(0,k.validateVehicleNumber)(s.vehicle_number||"")||(c.vehicle_number="Invalid vehicle number format (e.g., KA01AB1234)"),(0,k.validatePolicyNumber)(s.policy_number||"")||(c.policy_number="Policy number is required"),(0,k.validatePremiumAmount)(s.premium_amount||0)||(c.premium_amount="Invalid premium amount"),s.policy_start_date&&s.policy_end_date&&!(0,k.validateDateRange)(s.policy_start_date,s.policy_end_date)&&(c.policy_end_date="End date must be after start date"),s.manufacturer||(c.manufacturer="Manufacturer is required"),s.model||(c.model="Model is required"),s.insurer_name||(c.insurer_name="Insurer name is required"),r(c),0===Object.keys(c).length){p(!0);try{let b={...s,user_id:a,policy_start_date:new Date(s.policy_start_date),policy_end_date:new Date(s.policy_end_date),rc_docs:s.rc_docs||[],previous_policy_docs:s.previous_policy_docs||[],dl_docs:s.dl_docs||[]};l?.id?await (0,i.updateMotorPolicy)(l.id,b):await (0,i.addMotorPolicy)(b),n(),m()}catch(a){console.error("Error saving policy:",a),r(a=>({...a,submit:"Failed to save policy. Please try again."}))}finally{p(!1)}}},x=a=>b=>{t(c=>({...c,[a]:[...c[a]||[],b]}))};return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:l?"Edit Motor Policy":"Add New Motor Policy"}),(0,b.jsx)("button",{onClick:m,className:"text-gray-500 hover:text-gray-700",children:(0,b.jsx)(d.X,{className:"w-6 h-6"})})]}),(0,b.jsxs)("form",{onSubmit:w,className:"p-6 space-y-8",children:[q.submit&&(0,b.jsx)("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg text-sm",children:q.submit}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vehicle Details"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsx)(g.default,{label:"Vehicle Number",name:"vehicle_number",value:s.vehicle_number||"",onChange:u,placeholder:"KA01AB1234",error:q.vehicle_number,required:!0}),(0,b.jsx)(g.default,{label:"Vehicle Type",name:"vehicle_type",type:"select",value:s.vehicle_type||"Car",onChange:u,options:[{value:"Car",label:"Car"},{value:"Bike",label:"Bike"},{value:"Bus",label:"Bus"},{value:"GCV",label:"Goods Carrying Vehicle"},{value:"Misc",label:"Miscellaneous"}],required:!0}),(0,b.jsx)(g.default,{label:"Number Plate Type",name:"number_plate_type",type:"select",value:s.number_plate_type??"",onChange:u,required:!0,options:[{value:"White",label:"White (Pvt)"},{value:"Yellow",label:"Yellow (Commercial)"},{value:"EV",label:"EV (Green)"}]}),(0,b.jsx)(g.default,{label:"Ownership Type",name:"ownership_type",type:"select",value:s.ownership_type??"Individual",onChange:u,required:!0,options:[{value:"Individual",label:"Individual"},{value:"Company",label:"Company"}]}),(0,b.jsx)(g.default,{label:"Manufacturer",name:"manufacturer",type:"select",value:s.manufacturer||"",onChange:u,options:j.CAR_MANUFACTURERS.map(a=>({value:a,label:a})),error:q.manufacturer,required:!0}),(0,b.jsx)(g.default,{label:"Model",name:"model",value:s.model||"",onChange:u,placeholder:"e.g. Swift",error:q.model,required:!0}),(0,b.jsx)(g.default,{label:"Fuel Type",name:"fuel_type",type:"select",value:s.fuel_type||"Petrol",onChange:u,options:[{value:"Petrol",label:"Petrol"},{value:"Diesel",label:"Diesel"},{value:"CNG",label:"CNG"},{value:"Electric",label:"Electric"},{value:"Hybrid",label:"Hybrid"}],required:!0}),(0,b.jsx)(g.default,{label:"Manufacturing Year",name:"manufacturing_year",type:"number",value:s.manufacturing_year||new Date().getFullYear(),onChange:u,min:1990,max:new Date().getFullYear(),required:!0})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Policy Details"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsx)(g.default,{label:"Policy Number",name:"policy_number",value:s.policy_number||"",onChange:u,placeholder:"Enter policy number",error:q.policy_number,required:!0}),(0,b.jsx)(g.default,{label:"Insurer Name",name:"insurer_name",type:"select",value:s.insurer_name||"",onChange:u,options:j.INSURANCE_COMPANIES.map(a=>({value:a,label:a})),error:q.insurer_name,required:!0}),(0,b.jsx)(g.default,{label:"Premium Amount (â‚¹)",name:"premium_amount",type:"number",value:s.premium_amount||"",onChange:u,error:q.premium_amount,required:!0}),(0,b.jsx)(g.default,{label:"Start Date",name:"policy_start_date",type:"date",value:s.policy_start_date?new Date(s.policy_start_date).toISOString().split("T")[0]:"",onChange:v,required:!0}),(0,b.jsx)(g.default,{label:"End Date",name:"policy_end_date",type:"date",value:s.policy_end_date?new Date(s.policy_end_date).toISOString().split("T")[0]:"",onChange:v,error:q.policy_end_date,required:!0})]})]}),(0,b.jsxs)("section",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documents"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,b.jsx)(h.default,{label:"RC Copy",name:"rc_docs",bucket:"rc-copies",onUploadComplete:x("rc_docs"),existingFile:s.rc_docs&&s.rc_docs.length>0?{url:s.rc_docs[0],name:"RC Document"}:void 0}),(0,b.jsx)(h.default,{label:"Previous Policy",name:"previous_policy_docs",bucket:"policy-documents",onUploadComplete:x("previous_policy_docs"),existingFile:s.previous_policy_docs&&s.previous_policy_docs.length>0?{url:s.previous_policy_docs[0],name:"Previous Policy"}:void 0})]})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[(0,b.jsx)("button",{type:"button",onClick:m,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:o,children:"Cancel"}),(0,b.jsx)("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",disabled:o,children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Save,{className:"w-4 h-4 mr-2"}),"Save Policy"]})})]})]})]})})}a.s(["default",()=>l])},75585,a=>{"use strict";let b=(0,a.i(42077).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],75585)},30328,a=>{"use strict";let b=(0,a.i(42077).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],30328)},74210,a=>{"use strict";let b=(0,a.i(42077).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],74210)},33413,a=>{"use strict";let b=(0,a.i(42077).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],33413)},14505,a=>{"use strict";let b=(0,a.i(42077).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14505)},59204,1181,a=>{"use strict";let b=(0,a.i(42077).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],59204);var c=a.i(72440);function d({label:a,name:b,type:d="text",value:e,onChange:f,onBlur:g,error:h,placeholder:i,required:j=!1,disabled:k=!1,min:l,max:m,step:n,options:o=[],rows:p=4,className:q=""}){let r=`
    w-full px-4 py-2 border rounded-lg
    focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent
    disabled:bg-gray-100 disabled:cursor-not-allowed
    transition-colors
    ${h?"border-red-500 focus:ring-red-500":"border-gray-300"}
    ${q}
  `;return(0,c.jsxs)("div",{className:"space-y-1",children:[(0,c.jsxs)("label",{htmlFor:b,className:"block text-sm font-medium text-gray-700",children:[a,j&&(0,c.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),"select"===d?(0,c.jsxs)("select",{id:b,name:b,value:e,onChange:f,onBlur:g,disabled:k,required:j,className:r,children:[(0,c.jsxs)("option",{value:"",children:["Select ",a]}),o.map(a=>(0,c.jsx)("option",{value:a.value,children:a.label},a.value))]}):"textarea"===d?(0,c.jsx)("textarea",{id:b,name:b,value:e,onChange:f,onBlur:g,placeholder:i,disabled:k,required:j,rows:p,className:r}):(0,c.jsx)("input",{id:b,name:b,type:d,value:e,onChange:f,onBlur:g,placeholder:i,disabled:k,required:j,min:l,max:m,step:n,className:r}),h&&(0,c.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,c.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),h]})]})}a.s(["default",()=>d],1181)},20219,a=>{"use strict";var b=a.i(72440),c=a.i(29916),d=a.i(42077);let e=(0,d.default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var f=a.i(59204);let g=(0,d.default)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);var h=a.i(30328),i=a.i(93022);async function j(a,b){try{let c=Date.now(),d=Math.random().toString(36).substring(2,8),e=a.name.split(".").pop(),f=`${c}_${d}.${e}`,{data:g,error:h}=await i.supabase.storage.from(b).upload(f,a,{cacheControl:"3600",upsert:!0});if(h)throw h;let{data:{publicUrl:j}}=i.supabase.storage.from(b).getPublicUrl(g.path);return j}catch(a){throw console.error("Error uploading file:",a),Error(a.message||"Failed to upload file")}}function k({label:a,name:d,accept:i=".pdf,.jpg,.jpeg,.png",bucket:k,onUploadComplete:l,existingFile:m,required:n=!1,maxSizeMB:o=5}){let[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(m?.url||null),[t,u]=(0,c.useState)(m?.name||""),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(0),[z,A]=(0,c.useState)(""),B=(0,c.useRef)(null),C=async a=>{if(A(""),a.size>1024*o*1024)return void A(`File size must be less than ${o}MB`);if(q(a),u(a.name),a.type.startsWith("image/")){let b=new FileReader;b.onload=a=>{s(a.target?.result)},b.readAsDataURL(a)}else s(null);await D(a)},D=async a=>{w(!0),y(0);try{let b=setInterval(()=>{y(a=>Math.min(a+10,90))},200),c=await j(a,k);clearInterval(b),y(100),w(!1),l(c,a.name)}catch(a){console.error("Upload error:",a),A("Failed to upload file. Please try again."),w(!1),q(null),s(null)}};return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[a,n&&(0,b.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),p||m?(0,b.jsx)("div",{className:"border border-gray-300 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[r?(0,b.jsx)("img",{src:r,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):(0,b.jsx)(g,{className:"w-8 h-8 text-gray-400"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:t}),v&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${x}%`}})}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Uploading... ",x,"%"]})]}),!v&&100===x&&(0,b.jsxs)("p",{className:"text-xs text-green-600 flex items-center gap-1 mt-1",children:[(0,b.jsx)(h.CheckCircle,{className:"w-3 h-3"}),"Uploaded successfully"]})]})]}),!v&&(0,b.jsx)("button",{type:"button",onClick:()=>{q(null),s(null),u(""),y(0),A(""),B.current&&(B.current.value="")},className:"text-red-600 hover:text-red-800 p-1 ml-4 hover:bg-red-50 rounded-full transition-colors",children:(0,b.jsx)(f.X,{className:"w-5 h-5"})})]})}):(0,b.jsxs)("div",{onDrop:a=>{a.preventDefault();let b=a.dataTransfer.files[0];b&&C(b)},onDragOver:a=>{a.preventDefault()},onClick:()=>B.current?.click(),className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-primary-500 transition-colors",children:[(0,b.jsx)(e,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload or drag and drop"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[i.toUpperCase()," (Max ",o,"MB)"]}),(0,b.jsx)("input",{ref:B,type:"file",accept:i,onChange:a=>a.target.files?.[0]&&C(a.target.files[0]),className:"hidden"})]}),z&&(0,b.jsxs)("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),z]})]})}a.s(["default",()=>k],20219)},69820,42109,a=>{"use strict";a.s(["CAR_MANUFACTURERS",0,["Maruti Suzuki","Hyundai","Tata","Honda","Toyota","Mahindra","Kia","Volkswagen","Renault","Nissan","Ford","Skoda","MG","Jeep","BMW","Mercedes-Benz","Audi","Volvo","Others"],"INSURANCE_COMPANIES",0,["HDFC ERGO","GO DIGIT","ICICI LOMBARD","TATA AIG","SHRIRAM GIC","ACKO GIC","CHOLA MS","INDUSIND GIC","BAJAJ GIC","IFFCO GIC","liberty gic","Royal sundaram","magma","kotak gic","sbi gic","national insurance","oriental","united India gic","new india gic","OTHERS"]],69820),a.s(["validateDateRange",0,(a,b)=>a<b,"validatePolicyNumber",0,a=>a.trim().length>=5,"validatePremiumAmount",0,(a,b=0,c=1e7)=>a>=b&&a<=c&&!isNaN(a),"validateVehicleNumber",0,a=>/^[A-Z]{2}[0-9]{1,2}[A-Z]{1,2}[0-9]{4}$/.test(a.replace(/\s+/g,""))],42109)},81056,a=>{"use strict";let b=(0,a.i(42077).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],81056)},38110,a=>{"use strict";var b=a.i(72440),c=a.i(29916),d=a.i(96968),e=a.i(33413),f=a.i(81056),g=a.i(75585),h=a.i(90497),i=a.i(8490),j=a.i(3045),k=a.i(24982);function l(){let a=(0,d.useRouter)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(void 0),[t,u]=(0,c.useState)(null),v=async a=>{o(!0);try{let b=(await (0,h.getUserMotorPolicies)(a)).map(a=>({...a,status:(0,j.calculatePolicyStatus)(new Date(a.policy_end_date))}));m(b)}catch(a){console.error("Error loading policies:",a)}finally{o(!1)}};(0,c.useEffect)(()=>{(async()=>{let b=await (0,i.getCurrentUser)();b?(u(b),v(b.id)):a.push("/login")})()},[a]);let w=async a=>{if(confirm("Are you sure you want to delete this policy?")&&t)try{await (0,h.deleteMotorPolicy)(a),await v(t.id)}catch(a){console.error("Error deleting policy:",a),alert("Failed to delete policy")}},x=l.length,y=l.reduce((a,b)=>a+Number(b.premium_amount),0),z=l.filter(a=>"Expiring Soon"===a.status).length;return n?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Motor/Vehicle Policies"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your vehicle insurance policies"})]}),(0,b.jsxs)("button",{onClick:()=>q(!0),className:"btn-primary",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4 mr-2"}),"Add New Policy"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"stat-card bg-blue-50 border-blue-100",children:[(0,b.jsx)("p",{className:"stat-label",children:"Total Vehicles"}),(0,b.jsx)("p",{className:"stat-value text-blue-600",children:x})]}),(0,b.jsxs)("div",{className:"stat-card bg-green-50 border-green-100",children:[(0,b.jsx)("p",{className:"stat-label",children:"Total Premium"}),(0,b.jsx)("p",{className:"stat-value text-green-600",children:(0,j.formatCurrency)(y)})]}),(0,b.jsxs)("div",{className:"stat-card bg-orange-50 border-orange-100",children:[(0,b.jsx)("p",{className:"stat-label",children:"Expiring Soon"}),(0,b.jsx)("p",{className:"stat-value text-orange-600",children:z})]})]}),0===l.length?(0,b.jsx)("div",{className:"card text-center py-12",children:(0,b.jsxs)("div",{className:"text-gray-500",children:[(0,b.jsx)("p",{className:"text-lg font-medium mb-2",children:"No motor policies yet"}),(0,b.jsx)("p",{className:"mb-6",children:"Add your first vehicle policy to get started"}),(0,b.jsxs)("button",{onClick:()=>q(!0),className:"btn-primary mx-auto",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4 mr-2"}),(0,b.jsx)("span",{children:"Add Your First Policy"})]})]})}):(0,b.jsx)("div",{className:"card overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"table",children:[(0,b.jsx)("thead",{className:"table-header",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"table-header-cell",children:"Vehicle Number"}),(0,b.jsx)("th",{className:"table-header-cell",children:"Make/Model"}),(0,b.jsx)("th",{className:"table-header-cell",children:"Insurer"}),(0,b.jsx)("th",{className:"table-header-cell",children:"Expiry Date"}),(0,b.jsx)("th",{className:"table-header-cell",children:"Premium"}),(0,b.jsx)("th",{className:"table-header-cell",children:"Status"}),(0,b.jsx)("th",{className:"table-header-cell",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:l.map(a=>(0,b.jsxs)("tr",{className:"table-row",children:[(0,b.jsx)("td",{className:"table-cell font-medium",children:a.vehicle_number}),(0,b.jsxs)("td",{className:"table-cell",children:[(0,b.jsx)("div",{className:"text-sm text-gray-900",children:a.manufacturer}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.model})]}),(0,b.jsx)("td",{className:"table-cell",children:a.insurer_name}),(0,b.jsx)("td",{className:"table-cell",children:(0,j.formatDate)(a.policy_end_date)}),(0,b.jsx)("td",{className:"table-cell",children:(0,j.formatCurrency)(a.premium_amount)}),(0,b.jsx)("td",{className:"table-cell",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"Active":return"bg-green-100 text-green-800";case"Expiring Soon":return"bg-orange-100 text-orange-800";case"Expired":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(a.status||"Active")}`,children:a.status||"Active"})}),(0,b.jsx)("td",{className:"table-cell",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("button",{onClick:()=>{s(a),q(!0)},className:"p-1 text-gray-500 hover:text-primary-600 transition-colors",title:"Edit",children:(0,b.jsx)(f.Edit,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>w(a.id),className:"p-1 text-gray-500 hover:text-red-600 transition-colors",title:"Delete",children:(0,b.jsx)(g.Trash2,{className:"w-4 h-4"})})]})})]},a.id))})]})})}),p&&t&&(0,b.jsx)(k.default,{userId:t.id,initialData:r,onClose:()=>{q(!1),s(void 0)},onSuccess:()=>v(t.id)})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=OneSingleView_b64cdb6c._.js.map