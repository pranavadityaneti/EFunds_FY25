module.exports=[43520,90988,88868,53777,a=>{"use strict";var b=a.i(72440),c=a.i(29916),d=a.i(59204),e=a.i(47149),f=a.i(7509),g=a.i(11744),h=a.i(90486),i=a.i(24982),j=a.i(21356),k=a.i(48706),l=a.i(14505),m=a.i(74210),n=a.i(1181),o=a.i(20219),p=a.i(90497),q=a.i(69820);function r({userId:a,initialData:d,onClose:e,onSuccess:f}){let[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)({}),[k,r]=(0,c.useState)({policy_number:d?.policy_number||"",insurer_name:d?.insurer_name||"",premium_amount:d?.premium_amount||0,sum_assured:d?.sum_assured||0,nominee_name:d?.nominee_name||"",policy_start_date:d?.policy_start_date?new Date(d.policy_start_date):new Date,policy_end_date:new Date(d?.policy_end_date?d.policy_end_date:new Date().setFullYear(new Date().getFullYear()+20)),document_url:d?.document_url||""});(0,c.useEffect)(()=>{if(k.policy_start_date&&!d){let a=new Date(new Date(k.policy_start_date));a.setFullYear(a.getFullYear()+1),a.setDate(a.getDate()-1),r(b=>({...b,policy_end_date:a}))}},[k.policy_start_date,d]);let s=a=>{let{name:b,value:c,type:d}=a.target;r(a=>({...a,[b]:"number"===d?Number(c):c}))},t=a=>{let{name:b,value:c}=a.target;r(a=>({...a,[b]:new Date(c)}))},u=async b=>{b.preventDefault(),h(!0);try{await (0,p.addLifePolicy)({...k,user_id:a,status:"Active"}),f()}catch(a){console.error("Error saving life policy:",a),j({submit:"Failed to save policy"})}finally{h(!1)}};return(0,b.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Life Insurance Details"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsx)(n.default,{label:"Policy Number",name:"policy_number",value:k.policy_number,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Policy Number",name:"policy_number",value:k.policy_number,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Insurer Name",name:"insurer_name",type:"select",value:k.insurer_name,onChange:s,options:q.INSURANCE_COMPANIES.map(a=>({value:a,label:a})),required:!0}),(0,b.jsx)(n.default,{label:"Premium Amount (₹)",name:"premium_amount",type:"number",value:k.premium_amount,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Sum Assured (₹)",name:"sum_assured",type:"number",value:k.sum_assured,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Nominee Name",name:"nominee_name",value:k.nominee_name,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Start Date",name:"policy_start_date",type:"date",value:k.policy_start_date.toISOString().split("T")[0],onChange:t,required:!0}),(0,b.jsx)(n.default,{label:"End Date",name:"policy_end_date",type:"date",value:k.policy_end_date.toISOString().split("T")[0],onChange:t,required:!0})]}),(0,b.jsx)(o.default,{label:"Policy Document",name:"document_url",bucket:"policy-documents",onUploadComplete:a=>r(b=>({...b,document_url:a}))}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[(0,b.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",children:[g?(0,b.jsx)(m.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):(0,b.jsx)(l.Save,{className:"w-4 h-4 mr-2"}),"Save Policy"]})]})]})}function s({userId:a,initialData:d,onClose:e,onSuccess:f}){let[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)({}),[k,r]=(0,c.useState)({policy_number:d?.policy_number||"",insurer_name:d?.insurer_name||"",premium_amount:d?.premium_amount||0,destination:d?.destination||"",trip_type:d?.trip_type||"Single Trip",policy_start_date:d?.policy_start_date?new Date(d.policy_start_date):new Date,policy_end_date:new Date(d?.policy_end_date?d.policy_end_date:new Date().setDate(new Date().getDate()+7)),document_url:d?.document_url||""});(0,c.useEffect)(()=>{if(k.policy_start_date&&!d){let a=new Date(new Date(k.policy_start_date));a.setFullYear(a.getFullYear()+1),a.setDate(a.getDate()-1),r(b=>({...b,policy_end_date:a}))}},[k.policy_start_date,d]);let s=a=>{let{name:b,value:c,type:d}=a.target;r(a=>({...a,[b]:"number"===d?Number(c):c}))},t=a=>{let{name:b,value:c}=a.target;r(a=>({...a,[b]:new Date(c)}))},u=async b=>{b.preventDefault(),h(!0);try{await (0,p.addTravelPolicy)({...k,user_id:a,status:"Active"}),f()}catch(a){console.error("Error saving travel policy:",a),j({submit:"Failed to save policy"})}finally{h(!1)}};return(0,b.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Travel Insurance Details"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsx)(n.default,{label:"Policy Number",name:"policy_number",value:k.policy_number,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Insurer Name",name:"insurer_name",type:"select",value:k.insurer_name,onChange:s,options:q.INSURANCE_COMPANIES.map(a=>({value:a,label:a})),required:!0}),(0,b.jsx)(n.default,{label:"Premium Amount (₹)",name:"premium_amount",type:"number",value:k.premium_amount,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Destination",name:"destination",value:k.destination,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Trip Type",name:"trip_type",type:"select",value:k.trip_type,onChange:s,options:[{value:"Single Trip",label:"Single Trip"},{value:"Multi Trip",label:"Multi Trip"}],required:!0}),(0,b.jsx)(n.default,{label:"Start Date",name:"policy_start_date",type:"date",value:k.policy_start_date.toISOString().split("T")[0],onChange:t,required:!0}),(0,b.jsx)(n.default,{label:"End Date",name:"policy_end_date",type:"date",value:k.policy_end_date.toISOString().split("T")[0],onChange:t,required:!0})]}),(0,b.jsx)(o.default,{label:"Policy Document",name:"document_url",bucket:"policy-documents",onUploadComplete:a=>r(b=>({...b,document_url:a}))}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[(0,b.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",children:[g?(0,b.jsx)(m.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):(0,b.jsx)(l.Save,{className:"w-4 h-4 mr-2"}),"Save Policy"]})]})]})}function t({userId:a,initialData:d,onClose:e,onSuccess:f}){let[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)({}),[k,r]=(0,c.useState)({policy_number:d?.policy_number||"",insurer_name:d?.insurer_name||"",premium_amount:d?.premium_amount||0,sum_insured:d?.sum_insured||0,cyber_risk_type:d?.cyber_risk_type||"Personal",policy_start_date:d?.policy_start_date?new Date(d.policy_start_date):new Date,policy_end_date:new Date(d?.policy_end_date?d.policy_end_date:new Date().setFullYear(new Date().getFullYear()+1)),document_url:d?.document_url||""});(0,c.useEffect)(()=>{if(k.policy_start_date&&!d){let a=new Date(new Date(k.policy_start_date));a.setFullYear(a.getFullYear()+1),a.setDate(a.getDate()-1),r(b=>({...b,policy_end_date:a}))}},[k.policy_start_date,d]);let s=a=>{let{name:b,value:c,type:d}=a.target;r(a=>({...a,[b]:"number"===d?Number(c):c}))},t=a=>{let{name:b,value:c}=a.target;r(a=>({...a,[b]:new Date(c)}))},u=async b=>{b.preventDefault(),h(!0);try{await (0,p.addCyberPolicy)({...k,user_id:a,status:"Active"}),f()}catch(a){console.error("Error saving cyber policy:",a),j({submit:"Failed to save policy"})}finally{h(!1)}};return(0,b.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Cyber Insurance Details"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsx)(n.default,{label:"Policy Number",name:"policy_number",value:k.policy_number,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Policy Number",name:"policy_number",value:k.policy_number,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Insurer Name",name:"insurer_name",type:"select",value:k.insurer_name,onChange:s,options:q.INSURANCE_COMPANIES.map(a=>({value:a,label:a})),required:!0}),(0,b.jsx)(n.default,{label:"Premium Amount (₹)",name:"premium_amount",type:"number",value:k.premium_amount,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Sum Insured (₹)",name:"sum_insured",type:"number",value:k.sum_insured,onChange:s,required:!0}),(0,b.jsx)(n.default,{label:"Risk Type",name:"cyber_risk_type",type:"select",value:k.cyber_risk_type,onChange:s,options:[{value:"Personal",label:"Personal"},{value:"Business",label:"Business"}],required:!0}),(0,b.jsx)(n.default,{label:"Start Date",name:"policy_start_date",type:"date",value:k.policy_start_date.toISOString().split("T")[0],onChange:t,required:!0}),(0,b.jsx)(n.default,{label:"End Date",name:"policy_end_date",type:"date",value:k.policy_end_date.toISOString().split("T")[0],onChange:t,required:!0})]}),(0,b.jsx)(o.default,{label:"Policy Document",name:"document_url",bucket:"policy-documents",onUploadComplete:a=>r(b=>({...b,document_url:a}))}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4 pt-4 border-t",children:[(0,b.jsx)("button",{type:"button",onClick:e,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,b.jsxs)("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 flex items-center",children:[g?(0,b.jsx)(m.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):(0,b.jsx)(l.Save,{className:"w-4 h-4 mr-2"}),"Save Policy"]})]})]})}function u({isOpen:a,onClose:l,userId:m,onSuccess:n,initialType:o}){let[p,q]=(0,c.useState)(o);if(c.default.useEffect(()=>{a&&q(o)},[a,o]),!a)return null;let u=()=>{n(),l(),q(void 0)};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,b.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:p?(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>q(void 0),className:"text-sm text-gray-500 hover:text-gray-900",children:"Select Type"}),(0,b.jsx)(h.ChevronRight,{className:"w-4 h-4 text-gray-400"}),(0,b.jsxs)("h3",{className:"text-lg font-bold text-gray-900",children:["Add ",p," Policy"]})]}),(0,b.jsx)("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)(d.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,b.jsx)("div",{className:"p-6",children:(()=>{switch(p){case"Motor":return(0,b.jsx)(i.default,{userId:m,onClose:l,onSuccess:u});case"Health":return(0,b.jsx)(j.default,{userId:m,onClose:l,onSuccess:u});case"Commercial":return(0,b.jsx)(k.default,{userId:m,onClose:l,onSuccess:u});case"Life":return(0,b.jsx)(r,{userId:m,onClose:l,onSuccess:u});case"Travel":return(0,b.jsx)(s,{userId:m,onClose:l,onSuccess:u});case"Cyber":return(0,b.jsx)(t,{userId:m,onClose:l,onSuccess:u});default:return null}})()})]}):(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Add New Policy"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1",children:"Select the type of policy you want to add"})]}),(0,b.jsx)("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,b.jsx)(d.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,b.jsxs)("div",{className:"grid gap-4",children:[(0,b.jsxs)("button",{onClick:()=>q("Motor"),className:"flex items-center p-4 border border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group text-left",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-lg group-hover:bg-blue-200 transition-colors",children:(0,b.jsx)(e.Car,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-700",children:"Motor Insurance"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Car, Bike, and other vehicle policies"})]}),(0,b.jsx)(h.ChevronRight,{className:"w-5 h-5 text-gray-300 ml-auto group-hover:text-blue-500"})]}),(0,b.jsxs)("button",{onClick:()=>q("Health"),className:"flex items-center p-4 border border-gray-200 rounded-xl hover:border-pink-500 hover:bg-pink-50 transition-all group text-left",children:[(0,b.jsx)("div",{className:"p-3 bg-pink-100 text-pink-600 rounded-lg group-hover:bg-pink-200 transition-colors",children:(0,b.jsx)(f.Heart,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-pink-700",children:"Health Insurance"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Individual and Family Floater plans"})]}),(0,b.jsx)(h.ChevronRight,{className:"w-5 h-5 text-gray-300 ml-auto group-hover:text-pink-500"})]}),(0,b.jsxs)("button",{onClick:()=>q("Commercial"),className:"flex items-center p-4 border border-gray-200 rounded-xl hover:border-purple-500 hover:bg-purple-50 transition-all group text-left",children:[(0,b.jsx)("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-lg group-hover:bg-purple-200 transition-colors",children:(0,b.jsx)(g.Briefcase,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-purple-700",children:"Commercial Insurance"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Fire, Marine, and Liability policies"})]}),(0,b.jsx)(h.ChevronRight,{className:"w-5 h-5 text-gray-300 ml-auto group-hover:text-purple-500"})]}),(0,b.jsxs)("button",{onClick:()=>q("Life"),className:"flex items-center p-4 border border-gray-200 rounded-xl hover:border-pink-500 hover:bg-pink-50 transition-all group text-left",children:[(0,b.jsx)("div",{className:"p-3 bg-pink-100 text-pink-600 rounded-lg group-hover:bg-pink-200 transition-colors",children:(0,b.jsx)(f.Heart,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-pink-700",children:"Life Insurance"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Term life and endowment plans"})]}),(0,b.jsx)(h.ChevronRight,{className:"w-5 h-5 text-gray-300 ml-auto group-hover:text-pink-500"})]}),(0,b.jsxs)("button",{onClick:()=>q("Travel"),className:"flex items-center p-4 border border-gray-200 rounded-xl hover:border-orange-500 hover:bg-orange-50 transition-all group text-left",children:[(0,b.jsx)("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-lg group-hover:bg-orange-200 transition-colors",children:(0,b.jsx)(g.Briefcase,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-orange-700",children:"Travel Insurance"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Domestic and International travel"})]}),(0,b.jsx)(h.ChevronRight,{className:"w-5 h-5 text-gray-300 ml-auto group-hover:text-orange-500"})]}),(0,b.jsxs)("button",{onClick:()=>q("Cyber"),className:"flex items-center p-4 border border-gray-200 rounded-xl hover:border-indigo-500 hover:bg-indigo-50 transition-all group text-left",children:[(0,b.jsx)("div",{className:"p-3 bg-indigo-100 text-indigo-600 rounded-lg group-hover:bg-indigo-200 transition-colors",children:(0,b.jsx)(g.Briefcase,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 group-hover:text-indigo-700",children:"Cyber Insurance"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Protection against digital threats"})]}),(0,b.jsx)(h.ChevronRight,{className:"w-5 h-5 text-gray-300 ml-auto group-hover:text-indigo-500"})]})]})]})})})}a.s(["default",()=>r],90988),a.s(["default",()=>s],88868),a.s(["default",()=>t],53777),a.s(["default",()=>u],43520)}];

//# sourceMappingURL=OneSingleView_components_policies_AddPolicyModal_tsx_92048591._.js.map