module.exports=[14505,a=>{"use strict";let b=(0,a.i(42077).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14505)},33413,a=>{"use strict";let b=(0,a.i(42077).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],33413)},75585,a=>{"use strict";let b=(0,a.i(42077).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],75585)},40593,a=>{"use strict";let b=(0,a.i(42077).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],40593)},81201,a=>{"use strict";var b=a.i(72440),c=a.i(29916),d=a.i(18484);let e=(0,a.i(42077).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var f=a.i(40593),g=a.i(14505),h=a.i(33413),i=a.i(75585),j=a.i(90497);function k(){let[a,k]=(0,c.useState)("general"),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(30),[v,w]=(0,c.useState)({title:"",image_url:"",is_active:!0,display_order:0}),[x,y]=(0,c.useState)({name:"",insurer_name:"",city:""});(0,c.useEffect)(()=>{z()},[]);let z=async()=>{m(!0);try{let[a,b,c]=await Promise.all([(0,j.getAppSettings)(),(0,j.getAllBanners)(),(0,j.getAllGarages)()]);o(a),q(b),s(c);let d=a.find(a=>"expiry_threshold_days"===a.key);d&&u(d.value)}catch(a){console.error("Failed to load settings data:",a)}finally{m(!1)}},A=async()=>{try{await (0,j.updateAppSetting)("expiry_threshold_days",t),alert("Settings saved successfully!")}catch(a){console.error("Failed to save settings:",a),alert("Failed to save settings.")}},B=async()=>{if(v.title&&v.image_url)try{await (0,j.addBanner)({title:v.title,image_url:v.image_url,link_url:v.link_url,is_active:v.is_active||!0,display_order:v.display_order||0,active_from:new Date}),w({title:"",image_url:"",is_active:!0,display_order:0}),z()}catch(a){console.error("Failed to add banner:",a)}},C=async a=>{if(confirm("Are you sure you want to delete this banner?"))try{await (0,j.deleteBanner)(a),q(p.filter(b=>b.id!==a))}catch(a){console.error("Failed to delete banner:",a)}},D=async()=>{if(x.name&&x.insurer_name&&x.city)try{await (0,j.addGarage)({name:x.name,insurer_name:x.insurer_name,city:x.city,address:x.address,contact_number:x.contact_number}),y({name:"",insurer_name:"",city:""}),z()}catch(a){console.error("Failed to add garage:",a)}},E=async a=>{if(confirm("Are you sure you want to delete this garage?"))try{await (0,j.deleteGarage)(a),s(r.filter(b=>b.id!==a))}catch(a){console.error("Failed to delete garage:",a)}};return l?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"System Configuration"}),(0,b.jsx)("p",{className:"text-gray-500",children:"Manage application settings, banners, and directories"})]}),(0,b.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-xl w-fit",children:[(0,b.jsxs)("button",{onClick:()=>k("general"),className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all ${"general"===a?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[(0,b.jsx)(d.Settings,{className:"w-4 h-4 mr-2"}),"General"]}),(0,b.jsxs)("button",{onClick:()=>k("banners"),className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all ${"banners"===a?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[(0,b.jsx)(e,{className:"w-4 h-4 mr-2"}),"Banners"]}),(0,b.jsxs)("button",{onClick:()=>k("garages"),className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all ${"garages"===a?"bg-white text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[(0,b.jsx)(f.MapPin,{className:"w-4 h-4 mr-2"}),"Garages"]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:["general"===a&&(0,b.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Policy Expiry Settings"}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-100",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expiry Alert Threshold (Days)"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Policies expiring within this many days will be marked as 'Expiring Soon'."})]}),(0,b.jsx)("input",{type:"number",value:t,onChange:a=>u(Number(a.target.value)),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-center"})]})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-gray-100",children:(0,b.jsxs)("button",{onClick:A,className:"btn btn-primary",children:[(0,b.jsx)(g.Save,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}),"banners"===a&&(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100 space-y-4",children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900",children:"Add New Banner"}),(0,b.jsx)("input",{type:"text",placeholder:"Banner Title",value:v.title,onChange:a=>w({...v,title:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),(0,b.jsx)("input",{type:"text",placeholder:"Image URL",value:v.image_url,onChange:a=>w({...v,image_url:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),(0,b.jsx)("input",{type:"text",placeholder:"Link URL (Optional)",value:v.link_url,onChange:a=>w({...v,link_url:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),(0,b.jsxs)("button",{onClick:B,className:"btn btn-primary w-full",disabled:!v.title||!v.image_url,children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"Add Banner"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[p.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-4 p-3 border border-gray-200 rounded-lg bg-white",children:[(0,b.jsx)("img",{src:a.image_url,alt:a.title,className:"w-24 h-16 object-cover rounded bg-gray-100"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.link_url||"No link"})]}),(0,b.jsx)("button",{onClick:()=>C(a.id),className:"text-red-500 hover:text-red-700 p-2",children:(0,b.jsx)(i.Trash2,{className:"w-4 h-4"})})]},a.id)),0===p.length&&(0,b.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No banners found."})]})]})}),"garages"===a&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 bg-gray-50 rounded-lg border border-gray-100 items-end",children:[(0,b.jsxs)("div",{className:"md:col-span-1",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Garage Name"}),(0,b.jsx)("input",{type:"text",value:x.name,onChange:a=>y({...x,name:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,b.jsxs)("div",{className:"md:col-span-1",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Insurer"}),(0,b.jsx)("input",{type:"text",value:x.insurer_name,onChange:a=>y({...x,insurer_name:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,b.jsxs)("div",{className:"md:col-span-1",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"City"}),(0,b.jsx)("input",{type:"text",value:x.city,onChange:a=>y({...x,city:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),(0,b.jsx)("div",{className:"md:col-span-1",children:(0,b.jsxs)("button",{onClick:D,className:"btn btn-primary w-full",disabled:!x.name||!x.insurer_name||!x.city,children:[(0,b.jsx)(h.Plus,{className:"w-4 h-4 mr-2"}),"Add Garage"]})})]}),(0,b.jsxs)("div",{className:"overflow-x-auto",children:[(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-100",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase",children:"Name"}),(0,b.jsx)("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase",children:"Insurer"}),(0,b.jsx)("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase",children:"City"}),(0,b.jsx)("th",{className:"px-4 py-3 text-xs font-semibold text-gray-500 uppercase text-right",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:r.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:a.name}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.insurer_name}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:a.city}),(0,b.jsx)("td",{className:"px-4 py-3 text-right",children:(0,b.jsx)("button",{onClick:()=>E(a.id),className:"text-red-500 hover:text-red-700",children:(0,b.jsx)(i.Trash2,{className:"w-4 h-4"})})})]},a.id))})]}),0===r.length&&(0,b.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No garages found."})]})]})]})]})}a.s(["default",()=>k],81201)}];

//# sourceMappingURL=OneSingleView_7a362418._.js.map